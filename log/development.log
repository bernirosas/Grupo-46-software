  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (81.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_development"[0m
  [1m[35m (58.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (301.1ms)[0m  [1m[35mCREATE DATABASE "real_development" ENCODING = 'unicode'[0m
  [1m[35m (170.7ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLibros (20230416162514)
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230416162514"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230417001621)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417001621"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToUsers (20230417002537)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "users" ADD "nombre" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417002537"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTelephoneToUsers (20230417212118)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "telefono" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417212118"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDescripcionToUsers (20230418020514)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "descripcion" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418020514"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddtipoDeUsuariosToUsers (20230418024303)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "tipo_de_usuario" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418024303"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMensajes (20230418192747)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "libro_id" bigint NOT NULL, "usuario_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_6ac5bdf753"
FOREIGN KEY ("usuario_id")
  REFERENCES "usuarios" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMensajes (20230418192747)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "libro_id" bigint NOT NULL, "usuario_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_6ac5bdf753"
FOREIGN KEY ("usuario_id")
  REFERENCES "usuarios" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mCREATE DATABASE "real_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMensajes (20230418192747)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "libro_id" bigint NOT NULL, "usuario_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_6ac5bdf753"
FOREIGN KEY ("usuario_id")
  REFERENCES "usuarios" ("id")
)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMensajes (20230418192747)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "libro_id" bigint NOT NULL, "usuario_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_6ac5bdf753"
FOREIGN KEY ("usuario_id")
  REFERENCES "usuarios" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToUsers (20230420193941)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230420193941"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateResenas (20230422212919)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230422212919"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMensajes (20230423201745)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423201745"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (6.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-23 20:18:15.294200"], ["updated_at", "2023-04-23 20:18:15.294200"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-04-23 16:20:55 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 45.0ms | Allocations: 6279)
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 605)
  Rendered home/index.html.erb within layouts/application (Duration: 449.2ms | Allocations: 52449)
  Rendered layout layouts/application.html.erb (Duration: 458.5ms | Allocations: 55481)
Completed 200 OK in 567ms (Views: 506.1ms | ActiveRecord: 19.0ms | Allocations: 58954)


Started GET "/libros" for ::1 at 2023-04-23 16:20:58 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 18.2ms | Allocations: 2109)
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 528)
  Rendered libros/index.html.erb within layouts/application (Duration: 140.4ms | Allocations: 29361)
  Rendered layout layouts/application.html.erb (Duration: 145.9ms | Allocations: 32400)
Completed 200 OK in 168ms (Views: 149.2ms | ActiveRecord: 0.9ms | Allocations: 37496)


Started GET "/libros/new" for ::1 at 2023-04-23 16:21:00 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1215)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 476)
  Rendered libros/new.html.erb within layouts/application (Duration: 59.6ms | Allocations: 10357)
  Rendered layout layouts/application.html.erb (Duration: 61.0ms | Allocations: 11062)
Completed 200 OK in 83ms (Views: 62.0ms | ActiveRecord: 6.5ms | Allocations: 17828)


Started POST "/libros" for ::1 at 2023-04-23 16:21:08 -0400
Processing by LibrosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "libro"=>{"titulo"=>"la biblia", "fecha"=>"1999", "categoria"=>"suspenso", "autor"=>"messi", "precio"=>"1000", "stock"=>"1", "descripcion"=>"aaa"}, "commit"=>"Create Libro"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "la biblia"], ["fecha", 1999], ["categoria", "suspenso"], ["autor", "messi"], ["precio", 1000], ["stock", 1], ["descripcion", "aaa"], ["created_at", "2023-04-23 20:21:08.934714"], ["updated_at", "2023-04-23 20:21:08.934714"]]
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
Redirected to http://localhost:3000/libros/1
Completed 302 Found in 15ms (ActiveRecord: 3.1ms | Allocations: 4156)


Started GET "/libros/1" for ::1 at 2023-04-23 16:21:08 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1211)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3838)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4529)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 1.2ms | Allocations: 7361)


Started GET "/libros/1/resenas/" for ::1 at 2023-04-23 16:21:10 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1268)
  [1m[36mResena Load (3.9ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 485)
  Rendered resenas/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 6202)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 6963)
Completed 200 OK in 70ms (Views: 27.4ms | ActiveRecord: 5.5ms | Allocations: 13242)


Started GET "/register" for ::1 at 2023-04-23 16:21:13 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1026)
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.4ms | Allocations: 248)
  Rendered devise/shared/_links.html.erb (Duration: 3.1ms | Allocations: 624)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 429)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 40.5ms | Allocations: 9455)
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 10187)
Completed 200 OK in 149ms (Views: 48.5ms | ActiveRecord: 3.6ms | Allocations: 18367)


Started GET "/" for ::1 at 2023-04-23 16:21:18 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1270)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3376)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4115)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 4924)


Started GET "/libros" for ::1 at 2023-04-23 16:21:20 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1109)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4059)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4730)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms | Allocations: 5030)


Started GET "/libros/1" for ::1 at 2023-04-23 16:21:21 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1115)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3114)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3785)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 4584)


Started GET "/libros/1" for ::1 at 2023-04-23 16:22:37 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (2.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.2ms | Allocations: 1743)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 17.8ms | Allocations: 4676)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 5840)
Completed 200 OK in 64ms (Views: 24.6ms | ActiveRecord: 8.7ms | Allocations: 15931)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:22:39 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1280)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4840)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4938)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.3ms | Allocations: 9069)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass

'.freeze; @mensaje.each do |mensaje| 
                  ^^^^^):
    17: <p>Inicia sesión para escribir un mensaje</p>
    18: <% end %>
    19: 
    20: <% @mensaje.each do |mensaje| %>
    21:   <div class="mensaje">
    22:     <h2><%= link_to mensaje.user.nombre, "/libros/#{@libro.id}/mensajes/#{mensaje.id}" %>:</h2>
    23:     <p><%= mensaje.texto %></p>
  
app/views/mensajes/index.html.erb:20
Started GET "/libros/1" for ::1 at 2023-04-23 16:23:20 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1760)
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 4590)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 5742)
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 0.4ms | Allocations: 7200)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:23:22 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1246)
  [1m[36mMensaje Load (1.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 484)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 8621)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 9382)
Completed 200 OK in 38ms (Views: 31.9ms | ActiveRecord: 3.5ms | Allocations: 10696)


Started GET "/register" for ::1 at 2023-04-23 16:23:25 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1022)
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 251)
  Rendered devise/shared/_links.html.erb (Duration: 2.6ms | Allocations: 627)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 432)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 43.1ms | Allocations: 10809)
  Rendered layout layouts/application.html.erb (Duration: 44.7ms | Allocations: 11540)
Completed 200 OK in 63ms (Views: 48.3ms | ActiveRecord: 0.0ms | Allocations: 18840)


Started POST "/" for ::1 at 2023-04-23 16:23:42 -0400
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"luciafardella1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nombre"=>"Lucia", "telefono"=>"12345678", "descripcion"=>"Acerca de mi...1", "tipo_de_usuario"=>"A"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "luciafardella1@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "luciafardella1@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-04-23 20:23:43.196467"], ["updated_at", "2023-04-23 20:23:43.196467"], ["nombre", "Lucia"], ["telefono", "12345678"], ["descripcion", "Acerca de mi...1"], ["tipo_de_usuario", "A"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 363ms (ActiveRecord: 4.4ms | Allocations: 10379)


Started GET "/" for ::1 at 2023-04-23 16:23:43 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.7ms | Allocations: 2757)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 4869)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 6039)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.4ms | Allocations: 6763)


Started GET "/libros" for ::1 at 2023-04-23 16:23:47 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.5ms | Allocations: 2388)
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 5580)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 6702)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 1.3ms | Allocations: 7081)


Started GET "/libros/1" for ::1 at 2023-04-23 16:23:48 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 9.5ms | Allocations: 2358)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 17.6ms | Allocations: 4372)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 5491)
Completed 200 OK in 24ms (Views: 18.0ms | ActiveRecord: 3.3ms | Allocations: 6276)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:23:51 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.5ms | Allocations: 2382)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 4444)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 5565)
Completed 200 OK in 78ms (Views: 30.5ms | ActiveRecord: 1.2ms | Allocations: 6374)


Started GET "/libros/1/mensajes/new" for ::1 at 2023-04-23 16:23:53 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.3ms | Allocations: 5848)


  
NoMethodError (undefined method `mensaje' for #<Libro id: 1, titulo: "la biblia", fecha: 1999, categoria: "suspenso", autor: "messi", precio: 1000, stock: 1, descripcion: "aaa", created_at: "2023-04-23 20:21:08.934714000 +0000", updated_at: "2023-04-23 20:21:08.934714000 +0000">
Did you mean?  mensajes
               mensajes=):
  
app/controllers/mensajes_controller.rb:16:in `new'
Started GET "/libros/1/mensajes/new" for ::1 at 2023-04-23 16:25:00 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 21.3ms | Allocations: 6928)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 529)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 28.4ms | Allocations: 9683)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 13031)
Completed 200 OK in 98ms (Views: 32.9ms | ActiveRecord: 12.0ms | Allocations: 25568)


Started POST "/libros/1/mensajes" for ::1 at 2023-04-23 16:25:04 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (6.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "hola"], ["user_id", 1], ["libro_id", 1], ["created_at", "2023-04-23 20:25:04.752598"], ["updated_at", "2023-04-23 20:25:04.752598"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://localhost:3000/libros/1
Completed 302 Found in 33ms (ActiveRecord: 8.3ms | Allocations: 4524)


Started GET "/libros/1" for ::1 at 2023-04-23 16:25:04 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.5ms | Allocations: 2707)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 5380)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6546)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 0.7ms | Allocations: 7982)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:25:06 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.6ms | Allocations: 2366)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 7123)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 8242)
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 1.3ms | Allocations: 9151)


Started GET "/libros/1/mensajes/1" for ::1 at 2023-04-23 16:25:11 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.3ms | Allocations: 2360)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4912)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6031)
Completed 200 OK in 20ms (Views: 13.6ms | ActiveRecord: 1.3ms | Allocations: 7717)


Started GET "/libros/1/mensajes/1/edit" for ::1 at 2023-04-23 16:25:15 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"1", "id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:32:in `edit'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.6ms | Allocations: 2366)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 12.9ms | Allocations: 4636)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 5755)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 0.9ms | Allocations: 7363)


Started PATCH "/libros/1/mensajes/1" for ::1 at 2023-04-23 16:25:18 -0400
Processing by MensajesController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola!"}, "commit"=>"Enviar", "libro_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:37:in `update'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mMensaje Update (2.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "hola!"], ["updated_at", "2023-04-23 20:25:18.727039"], ["id", 1]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
Redirected to http://localhost:3000/libros/1/mensajes
Completed 302 Found in 25ms (ActiveRecord: 3.3ms | Allocations: 6262)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:25:18 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.8ms | Allocations: 2375)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 27.8ms | Allocations: 5145)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 6264)
Completed 200 OK in 33ms (Views: 29.2ms | ActiveRecord: 1.3ms | Allocations: 7069)


Started GET "/libros/1/mensajes/1" for ::1 at 2023-04-23 16:25:20 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.7ms | Allocations: 2351)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4592)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5711)
Completed 200 OK in 18ms (Views: 11.5ms | ActiveRecord: 1.2ms | Allocations: 7264)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:25:22 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.4ms | Allocations: 2366)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 5133)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 6252)
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 1.0ms | Allocations: 7054)


Started GET "/libros/1/mensajes/1" for ::1 at 2023-04-23 16:25:23 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.1ms | Allocations: 2360)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 20.0ms | Allocations: 4601)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 5720)
Completed 200 OK in 31ms (Views: 21.8ms | ActiveRecord: 1.7ms | Allocations: 7273)


Started DELETE "/libros/1/mensajes/1" for ::1 at 2023-04-23 16:25:25 -0400
Processing by MensajesController#destroy as TURBO_STREAM
  Parameters: {"libro_id"=>"1", "id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:47:in `destroy'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mMensaje Destroy (0.4ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
Redirected to http://localhost:3000/libros/1/mensajes
Completed 303 See Other in 14ms (ActiveRecord: 1.5ms | Allocations: 3190)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:25:25 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.3ms | Allocations: 2360)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4401)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 5520)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.8ms | Allocations: 6325)


Started GET "/libros/1/mensajes/new" for ::1 at 2023-04-23 16:25:36 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.3ms | Allocations: 2375)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 4242)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 5361)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 6318)


Started POST "/libros/1/mensajes" for ::1 at 2023-04-23 16:25:59 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "hola"], ["user_id", 1], ["libro_id", 1], ["created_at", "2023-04-23 20:25:59.637893"], ["updated_at", "2023-04-23 20:25:59.637893"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://localhost:3000/libros/1
Completed 302 Found in 11ms (ActiveRecord: 1.6ms | Allocations: 3649)


Started GET "/libros/1" for ::1 at 2023-04-23 16:25:59 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 8.9ms | Allocations: 3179)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 6035)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 7625)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.4ms | Allocations: 9036)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:26:01 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.3ms | Allocations: 2689)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 421)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 5994)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 7160)
Completed 200 OK in 22ms (Views: 18.6ms | ActiveRecord: 0.9ms | Allocations: 8390)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:26:41 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 52.7ms | Allocations: 10748)
  [1m[36mMensaje Load (4.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 611)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 214.1ms | Allocations: 45724)
  Rendered layout layouts/application.html.erb (Duration: 224.9ms | Allocations: 49193)
Completed 200 OK in 284ms (Views: 183.5ms | ActiveRecord: 53.1ms | Allocations: 65820)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:26:47 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 28.6ms | Allocations: 3175)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 6.4ms | Allocations: 526)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 58.1ms | Allocations: 6690)
  Rendered layout layouts/application.html.erb (Duration: 71.2ms | Allocations: 8282)
Completed 200 OK in 82ms (Views: 71.5ms | ActiveRecord: 6.0ms | Allocations: 9826)


Started GET "/" for ::1 at 2023-04-23 16:26:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.4ms | Allocations: 2734)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 4833)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 6001)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 6808)


Started GET "/libros" for ::1 at 2023-04-23 16:26:55 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.4ms | Allocations: 2709)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 421)
  Rendered libros/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 6124)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 7292)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.7ms | Allocations: 8118)


Started GET "/libros/1" for ::1 at 2023-04-23 16:26:56 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 2354)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 4790)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5910)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.6ms | Allocations: 6802)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:26:57 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.1ms | Allocations: 2364)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 5151)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 6270)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 2.1ms | Allocations: 7079)


Started GET "/libros/1/mensajes/new" for ::1 at 2023-04-23 16:26:59 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.4ms | Allocations: 2343)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 476)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 21.7ms | Allocations: 6662)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 7808)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.5ms | Allocations: 8963)


Started POST "/libros/1/mensajes" for ::1 at 2023-04-23 16:27:03 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola!!!"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "hola!!!"], ["user_id", 1], ["libro_id", 1], ["created_at", "2023-04-23 20:27:03.895740"], ["updated_at", "2023-04-23 20:27:03.895740"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://localhost:3000/libros/1
Completed 302 Found in 13ms (ActiveRecord: 2.0ms | Allocations: 5282)


Started GET "/libros/1" for ::1 at 2023-04-23 16:27:03 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.5ms | Allocations: 2384)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4562)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 5690)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.7ms | Allocations: 6551)


Started GET "/libros/1/mensajes/" for ::1 at 2023-04-23 16:27:05 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 2380)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 5802)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 6921)
Completed 200 OK in 41ms (Views: 36.2ms | ActiveRecord: 1.7ms | Allocations: 7725)


Started GET "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:27:09 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.6ms | Allocations: 2372)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 10.5ms | Allocations: 422)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 20.6ms | Allocations: 4940)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 6062)
Completed 200 OK in 29ms (Views: 23.5ms | ActiveRecord: 1.0ms | Allocations: 7767)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:27:11 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 2379)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 5795)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 6914)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 1.4ms | Allocations: 7717)


Started GET "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:27:11 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 2354)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 25.5ms | Allocations: 4599)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 5718)
Completed 200 OK in 33ms (Views: 27.3ms | ActiveRecord: 1.2ms | Allocations: 7271)


Started GET "/libros/1/mensajes/3/edit" for ::1 at 2023-04-23 16:27:12 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:32:in `edit'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.3ms | Allocations: 2345)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 420)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4621)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5740)
Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 0.8ms | Allocations: 7348)


Started PATCH "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:27:15 -0400
Processing by MensajesController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola!!! :)"}, "commit"=>"Enviar", "libro_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:37:in `update'
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "hola!!! :)"], ["updated_at", "2023-04-23 20:27:15.694664"], ["id", 3]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
Redirected to http://localhost:3000/libros/1/mensajes
Completed 302 Found in 15ms (ActiveRecord: 2.0ms | Allocations: 6198)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:27:15 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.0ms | Allocations: 2358)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5776)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 6895)
Completed 200 OK in 30ms (Views: 18.7ms | ActiveRecord: 1.1ms | Allocations: 7700)


Started GET "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:27:17 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.1ms | Allocations: 2357)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 4598)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 5717)
Completed 200 OK in 26ms (Views: 19.5ms | ActiveRecord: 1.0ms | Allocations: 7270)


Started GET "/libros/1/mensajes/3/edit" for ::1 at 2023-04-23 16:27:21 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:32:in `edit'
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 2371)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4305)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 5426)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.6ms | Allocations: 6979)


Started PATCH "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:28:05 -0400
Processing by MensajesController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"hola!!! :))"}, "commit"=>"Enviar", "libro_id"=>"1", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:37:in `update'
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mMensaje Update (0.7ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "hola!!! :))"], ["updated_at", "2023-04-23 20:28:05.648322"], ["id", 3]]
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:39:in `update'
Redirected to http://localhost:3000/libros/1/mensajes
Completed 302 Found in 60ms (ActiveRecord: 12.4ms | Allocations: 20795)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:28:05 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 7.5ms | Allocations: 3226)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 526)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 8966)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 12314)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 1.0ms | Allocations: 14841)


Started GET "/libros/1/mensajes/3" for ::1 at 2023-04-23 16:28:07 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"3"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (1.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.9ms | Allocations: 2360)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 4913)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 6032)
Completed 200 OK in 21ms (Views: 14.0ms | ActiveRecord: 1.8ms | Allocations: 7681)


Started GET "/libros/1/mensajes" for ::1 at 2023-04-23 16:28:10 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 2360)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5771)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 6890)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 1.4ms | Allocations: 7693)


Started GET "/" for ::1 at 2023-04-23 16:28:13 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.7ms | Allocations: 2701)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4768)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 5935)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.2ms | Allocations: 6730)

  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (72.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_development"[0m
  [1m[35m (53.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (326.3ms)[0m  [1m[35mCREATE DATABASE "real_development" ENCODING = 'unicode'[0m
  [1m[35m (112.6ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLibros (20230416162514)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230416162514"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230417001621)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417001621"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToUsers (20230417002537)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "nombre" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417002537"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTelephoneToUsers (20230417212118)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "telefono" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417212118"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDescripcionToUsers (20230418020514)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "descripcion" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418020514"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddtipoDeUsuariosToUsers (20230418024303)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "tipo_de_usuario" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418024303"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToUsers (20230420193941)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230420193941"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateResenas (20230422212919)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230422212919"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMensajes (20230423201745)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423201745"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCompras (20230423203622)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423203622"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-23 20:36:36.121378"], ["updated_at", "2023-04-23 20:36:36.121378"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-04-23 17:17:55 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 24.5ms | Allocations: 6308)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 605)
  Rendered home/index.html.erb within layouts/application (Duration: 130.7ms | Allocations: 33307)
  Rendered layout layouts/application.html.erb (Duration: 136.4ms | Allocations: 36350)
Completed 200 OK in 148ms (Views: 132.6ms | ActiveRecord: 8.0ms | Allocations: 39839)


Started GET "/libros" for ::1 at 2023-04-23 17:17:58 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.3ms | Allocations: 2112)
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 528)
  Rendered libros/index.html.erb within layouts/application (Duration: 101.1ms | Allocations: 29574)
  Rendered layout layouts/application.html.erb (Duration: 105.8ms | Allocations: 32613)
Completed 200 OK in 121ms (Views: 107.8ms | ActiveRecord: 1.5ms | Allocations: 37686)


Started GET "/libros/new" for ::1 at 2023-04-23 17:18:02 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1227)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 476)
  Rendered libros/new.html.erb within layouts/application (Duration: 19.2ms | Allocations: 7865)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 8570)
Completed 200 OK in 37ms (Views: 21.0ms | ActiveRecord: 3.6ms | Allocations: 15338)


Started POST "/libros" for ::1 at 2023-04-23 17:18:11 -0400
Processing by LibrosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "libro"=>{"titulo"=>"la biblia", "fecha"=>"1999", "categoria"=>"suspenso", "autor"=>"messi", "precio"=>"1000", "stock"=>"1", "descripcion"=>"aa"}, "commit"=>"Create Libro"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mLibro Create (5.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "la biblia"], ["fecha", 1999], ["categoria", "suspenso"], ["autor", "messi"], ["precio", 1000], ["stock", 1], ["descripcion", "aa"], ["created_at", "2023-04-23 21:18:11.757204"], ["updated_at", "2023-04-23 21:18:11.757204"]]
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
Redirected to http://localhost:3000/libros/1
Completed 302 Found in 15ms (ActiveRecord: 6.5ms | Allocations: 4160)


Started GET "/libros/1" for ::1 at 2023-04-23 17:18:11 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1223)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3891)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 4582)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 0.5ms | Allocations: 7414)


Started GET "/libros/1" for ::1 at 2023-04-23 17:28:26 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.7ms | Allocations: 2116)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 528)
  Rendered libros/show.html.erb within layouts/application (Duration: 96.9ms | Allocations: 29764)
  Rendered layout layouts/application.html.erb (Duration: 103.0ms | Allocations: 32800)
Completed 200 OK in 199ms (Views: 108.7ms | ActiveRecord: 5.6ms | Allocations: 46863)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:28:28 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 3164)


  
NoMethodError (undefined method `compras' for nil:NilClass

        @compra = @user.compras.new
                       ^^^^^^^^):
  
app/controllers/compras_controller.rb:15:in `new'
Started GET "/libros/1" for ::1 at 2023-04-23 17:29:09 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.9ms | Allocations: 2104)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 528)
  Rendered libros/show.html.erb within layouts/application (Duration: 77.8ms | Allocations: 29656)
  Rendered layout layouts/application.html.erb (Duration: 81.7ms | Allocations: 32691)
Completed 200 OK in 117ms (Views: 86.8ms | ActiveRecord: 4.5ms | Allocations: 46735)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:29:20 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1681)


  
NoMethodError (undefined method `compras' for nil:NilClass

        @compra = @user.compras.new
                       ^^^^^^^^):
  
app/controllers/compras_controller.rb:15:in `new'
Started GET "/libros/1" for ::1 at 2023-04-23 17:29:37 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1280)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3549)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 6045)
Completed 200 OK in 38ms (Views: 11.4ms | ActiveRecord: 7.2ms | Allocations: 12663)


Started GET "/register" for ::1 at 2023-04-23 17:29:38 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1022)
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 251)
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 619)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 429)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 27.3ms | Allocations: 10828)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 11560)
Completed 200 OK in 46ms (Views: 31.1ms | ActiveRecord: 3.4ms | Allocations: 19750)


Started POST "/" for ::1 at 2023-04-23 17:29:55 -0400
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"luciafardella1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nombre"=>"123456", "telefono"=>"12345678", "descripcion"=>"Acerca de mi...", "tipo_de_usuario"=>"A"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "luciafardella1@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "luciafardella1@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-04-23 21:29:55.737789"], ["updated_at", "2023-04-23 21:29:55.737789"], ["nombre", "123456"], ["telefono", "12345678"], ["descripcion", "Acerca de mi..."], ["tipo_de_usuario", "A"], ["picture", nil]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 258ms (ActiveRecord: 5.3ms | Allocations: 9788)


Started GET "/" for ::1 at 2023-04-23 17:29:55 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 5.3ms | Allocations: 2891)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 5033)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 6205)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 7052)


Started GET "/libros" for ::1 at 2023-04-23 17:30:00 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 3.7ms | Allocations: 2380)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 5718)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 6839)
Completed 200 OK in 23ms (Views: 10.7ms | ActiveRecord: 0.4ms | Allocations: 7207)


Started GET "/libros/1" for ::1 at 2023-04-23 17:30:01 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 2382)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4415)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 5534)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 6327)


Started GET "/libros/1" for ::1 at 2023-04-23 17:31:44 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 9.5ms | Allocations: 3177)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 15.9ms | Allocations: 6066)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 7656)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.7ms | Allocations: 9024)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:31:46 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 11.2ms | Allocations: 5277)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 5365)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 4.0ms | Allocations: 14518)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x0000000001fba8>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_with(model: [@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1" for ::1 at 2023-04-23 17:32:58 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 61.6ms | Allocations: 10747)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 528)
  Rendered libros/show.html.erb within layouts/application (Duration: 148.2ms | Allocations: 38054)
  Rendered layout layouts/application.html.erb (Duration: 154.4ms | Allocations: 41491)
Completed 200 OK in 191ms (Views: 128.5ms | ActiveRecord: 33.7ms | Allocations: 55882)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:33:01 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 62.0ms | Allocations: 5964)
  Rendered layout layouts/application.html.erb (Duration: 62.3ms | Allocations: 6062)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 3.2ms | Allocations: 15290)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x0000000000fb40>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:36:18 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 5663)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 5761)
Completed 500 Internal Server Error in 107ms (ActiveRecord: 21.1ms | Allocations: 27839)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x000000000188d0>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros" for ::1 at 2023-04-23 17:36:27 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 11.6ms | Allocations: 3857)
  [1m[36mLibro Load (3.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 535)
  Rendered libros/index.html.erb within layouts/application (Duration: 147.6ms | Allocations: 37006)
  Rendered layout layouts/application.html.erb (Duration: 156.8ms | Allocations: 40431)
Completed 200 OK in 174ms (Views: 135.4ms | ActiveRecord: 25.6ms | Allocations: 43210)


Started GET "/libros/1" for ::1 at 2023-04-23 17:36:28 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 2370)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4892)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 6012)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.7ms | Allocations: 7534)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:36:30 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 13.5ms | Allocations: 5196)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 5276)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.3ms | Allocations: 6651)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x00000000019078>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1" for ::1 at 2023-04-23 17:41:43 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.2ms | Allocations: 2354)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 31.8ms | Allocations: 4391)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 5510)
Completed 200 OK in 38ms (Views: 33.7ms | ActiveRecord: 0.8ms | Allocations: 6281)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:41:45 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 5155)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5234)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms | Allocations: 6593)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x000000000193e8>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1" for ::1 at 2023-04-23 17:41:58 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 20.7ms | Allocations: 6900)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 30.1ms | Allocations: 9817)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 13164)
Completed 200 OK in 54ms (Views: 31.4ms | ActiveRecord: 10.2ms | Allocations: 20009)


Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:42:00 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 5365)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 5453)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 10.1ms | Allocations: 11384)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x000000000226c8>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <!--<%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1/compras/new" for ::1 at 2023-04-23 17:42:38 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3816)
Completed 200 OK in 56ms (Views: 12.4ms | ActiveRecord: 10.3ms | Allocations: 15897)


Started GET "/" for 127.0.0.1 at 2023-04-25 18:40:35 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 2 pending migrations:

20230423201745_create_mensajes.rb
20230423203622_create_compras.rb


):
  
activerecord (7.0.4.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (18.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMensajes (20230423201745)
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (318.5ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (11.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423201745"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCompras (20230423203622)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (26.7ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423203622"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-04-25 18:41:08 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 25.2ms | Allocations: 2108)
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 527)
  Rendered home/index.html.erb within layouts/application (Duration: 536.9ms | Allocations: 28871)
  Rendered layout layouts/application.html.erb (Duration: 565.9ms | Allocations: 31622)
Completed 200 OK in 621ms (Views: 576.0ms | ActiveRecord: 0.0ms | Allocations: 35115)


Started GET "/register" for 127.0.0.1 at 2023-04-25 18:41:16 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.6ms | Allocations: 1666)
  Rendered devise/shared/_error_messages.html.erb (Duration: 7.1ms | Allocations: 251)
  Rendered devise/shared/_links.html.erb (Duration: 8.3ms | Allocations: 620)
  Rendered componentes/_footer.html.erb (Duration: 3.7ms | Allocations: 536)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 414.3ms | Allocations: 35976)
  Rendered layout layouts/application.html.erb (Duration: 435.6ms | Allocations: 38689)
Completed 200 OK in 733ms (Views: 476.0ms | ActiveRecord: 15.0ms | Allocations: 51253)


Started POST "/" for 127.0.0.1 at 2023-04-25 18:41:45 -0400
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"123456@uc.cl", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nombre"=>"123456", "telefono"=>"134653489", "descripcion"=>"Acerca de mi... 123456", "tipo_de_usuario"=>"A"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (8.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "123456@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.7ms | Allocations: 1012)
  Rendered devise/shared/_error_messages.html.erb (Duration: 18.6ms | Allocations: 1928)
  Rendered devise/shared/_links.html.erb (Duration: 4.5ms | Allocations: 620)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 429)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 100.1ms | Allocations: 11967)
  Rendered layout layouts/application.html.erb (Duration: 104.5ms | Allocations: 12698)
Completed 422 Unprocessable Entity in 723ms (Views: 107.5ms | ActiveRecord: 18.6ms | Allocations: 30741)


Started POST "/" for 127.0.0.1 at 2023-04-25 18:42:02 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1234567@uc.cl", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nombre"=>"123456", "telefono"=>"134653489", "descripcion"=>"Acerca de mi...1234567", "tipo_de_usuario"=>"A"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1234567@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (12.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "1234567@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-04-25 22:42:03.166559"], ["updated_at", "2023-04-25 22:42:03.166559"], ["nombre", "123456"], ["telefono", "134653489"], ["descripcion", "Acerca de mi...1234567"], ["tipo_de_usuario", "A"], ["picture", nil]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 755ms (ActiveRecord: 29.7ms | Allocations: 23434)


Started GET "/" for 127.0.0.1 at 2023-04-25 18:42:03 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 54.6ms | Allocations: 4097)
  Rendered componentes/_footer.html.erb (Duration: 3.4ms | Allocations: 527)
  Rendered home/index.html.erb within layouts/application (Duration: 305.3ms | Allocations: 30522)
  Rendered layout layouts/application.html.erb (Duration: 320.3ms | Allocations: 33670)
Completed 200 OK in 332ms (Views: 322.0ms | ActiveRecord: 2.6ms | Allocations: 35311)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 18:42:10 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 20.8ms | Allocations: 3058)
  [1m[36mLibro Load (2.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 10.8ms | Allocations: 422)
  Rendered libros/index.html.erb within layouts/application (Duration: 87.4ms | Allocations: 11615)
  Rendered layout layouts/application.html.erb (Duration: 108.4ms | Allocations: 12782)
Completed 200 OK in 130ms (Views: 102.3ms | ActiveRecord: 9.9ms | Allocations: 15568)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:42:13 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (2.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 141.7ms | Allocations: 10751)
  Rendered componentes/_footer.html.erb (Duration: 3.6ms | Allocations: 528)
  Rendered libros/show.html.erb within layouts/application (Duration: 529.2ms | Allocations: 37870)
  Rendered layout layouts/application.html.erb (Duration: 541.8ms | Allocations: 41020)
Completed 200 OK in 886ms (Views: 560.0ms | ActiveRecord: 31.0ms | Allocations: 55396)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 18:42:17 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 11.7ms | Allocations: 2730)
  [1m[36mMensaje Load (2.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 484)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 51.5ms | Allocations: 7178)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | Allocations: 8379)
Completed 200 OK in 92ms (Views: 53.5ms | ActiveRecord: 6.6ms | Allocations: 12528)


Started GET "/libros/1/mensajes/new" for 127.0.0.1 at 2023-04-25 18:42:18 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.1ms | Allocations: 2724)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 421)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 5261)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 6428)
Completed 200 OK in 283ms (Views: 38.2ms | ActiveRecord: 10.0ms | Allocations: 15682)


Started POST "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 18:42:23 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"que wen libro"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (1.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (13.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "que wen libro"], ["user_id", 2], ["libro_id", 1], ["created_at", "2023-04-25 22:42:23.213081"], ["updated_at", "2023-04-25 22:42:23.213081"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/libros/1
Completed 302 Found in 164ms (ActiveRecord: 32.6ms | Allocations: 22005)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:42:23 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.9ms | Allocations: 2717)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 28.7ms | Allocations: 5514)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 6681)
Completed 200 OK in 49ms (Views: 42.8ms | ActiveRecord: 1.4ms | Allocations: 8133)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 18:42:25 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 56.3ms | Allocations: 2679)
  [1m[36mMensaje Load (1.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 2.0ms | Allocations: 425)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 223.3ms | Allocations: 7677)
  Rendered layout layouts/application.html.erb (Duration: 235.9ms | Allocations: 8846)
Completed 200 OK in 266ms (Views: 248.4ms | ActiveRecord: 3.9ms | Allocations: 10169)


Started GET "/libros/1/mensajes/new" for 127.0.0.1 at 2023-04-25 18:42:27 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 15.2ms | Allocations: 2361)
  Rendered componentes/_footer.html.erb (Duration: 4.6ms | Allocations: 420)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 4675)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 5795)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 2.5ms | Allocations: 6882)


Started POST "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 18:42:31 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"otro mensaje"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (1.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "otro mensaje"], ["user_id", 2], ["libro_id", 1], ["created_at", "2023-04-25 22:42:31.360943"], ["updated_at", "2023-04-25 22:42:31.360943"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/libros/1
Completed 302 Found in 30ms (ActiveRecord: 8.3ms | Allocations: 5376)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:42:31 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.8ms | Allocations: 2363)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 27.8ms | Allocations: 4921)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 6041)
Completed 200 OK in 38ms (Views: 32.2ms | ActiveRecord: 1.9ms | Allocations: 6951)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 18:42:33 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 8.2ms | Allocations: 2367)
  [1m[36mMensaje Load (1.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 5789)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 6909)
Completed 200 OK in 42ms (Views: 34.2ms | ActiveRecord: 3.6ms | Allocations: 7728)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:42:49 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 31.9ms | Allocations: 5773)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | Allocations: 5870)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 8.0ms | Allocations: 12794)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x000000000113c8>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <!--<%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:47:06 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 23.4ms | Allocations: 6024)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 6123)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 16.3ms | Allocations: 14020)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x00000000010ec8>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <%= form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:47:32 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 22.7ms | Allocations: 5419)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 5507)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 1.0ms | Allocations: 7687)


  
ActionView::Template::Error (undefined method `compras_path' for #<ActionView::Base:0x00000000011738>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^
Did you mean?  compute_asset_path):
    1: <h1>Nueva compra</h1>
    2: 
    3: <% form_for([@libro, @compra]) do |form| %>
    4:   <%= form.hidden_field :libro_id, value: @libro.id %>
    5:   <p>Libro:<span><%= @libro.titulo %></span></p>
    6:   <p>Precio:<span><%= @libro.precio %></span></p>
  
app/views/compras/new.html.erb:3
Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:48:56 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 68.4ms | Allocations: 6888)
  Rendered componentes/_footer.html.erb (Duration: 4.5ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 92.9ms | Allocations: 9810)
  Rendered layout layouts/application.html.erb (Duration: 120.5ms | Allocations: 12870)
Completed 200 OK in 218ms (Views: 121.3ms | ActiveRecord: 18.5ms | Allocations: 19734)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:48:59 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 928)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 2315)
Completed 200 OK in 100ms (Views: 35.6ms | ActiveRecord: 10.7ms | Allocations: 8815)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:49:06 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (5.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:49:06.137049"], ["updated_at", "2023-04-25 22:49:06.137049"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Redirected to 
Completed 500 Internal Server Error in 39ms (ActiveRecord: 11.0ms | Allocations: 5270)


  
ActionController::UrlGenerationError (No route matches {:action=>"index", :controller=>"compras", :libro_id=>"1"}, missing required keys: [:user_id]
Did you mean?  user_compras_path):
  
app/controllers/compras_controller.rb:25:in `create'
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:50:15 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (5.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 904)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 4258)
Completed 200 OK in 308ms (Views: 41.8ms | ActiveRecord: 60.1ms | Allocations: 22724)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:50:18 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (1.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:50:18.133553"], ["updated_at", "2023-04-25 22:50:18.133553"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  ↳ app/controllers/compras_controller.rb:25:in `create'
Redirected to 
  [1m[36mCACHE Compra Load (0.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Completed 500 Internal Server Error in 61ms (ActiveRecord: 9.6ms | Allocations: 10558)


  [1m[36mCACHE Compra Load (0.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  
NoMethodError (undefined method `to_model' for #<ActiveRecord::Associations::CollectionProxy [#<Compra id: 1, user_id: 2, libro_id: 1, estado: "E", created_at: "2023-04-25 22:49:06.137049000 +0000", updated_at: "2023-04-25 22:49:06.137049000 +0000">, #<Compra id: 2, user_id: 2, libro_id: 1, estado: "E", created_at: "2023-04-25 22:50:18.133553000 +0000", updated_at: "2023-04-25 22:50:18.133553000 +0000">]>
Did you mean?  to_xml):
  
app/controllers/compras_controller.rb:25:in `create'
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:50:57 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1383)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 4736)
Completed 200 OK in 215ms (Views: 33.2ms | ActiveRecord: 43.5ms | Allocations: 28183)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:51:00 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (2.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:51:00.483519"], ["updated_at", "2023-04-25 22:51:00.483519"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Load (1.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  ↳ app/controllers/compras_controller.rb:25:in `create'
Redirected to 
  [1m[36mCACHE Compra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Completed 500 Internal Server Error in 63ms (ActiveRecord: 10.0ms | Allocations: 10741)


  [1m[36mCACHE Compra Load (0.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  
NoMethodError (undefined method `to_model' for #<ActiveRecord::Associations::CollectionProxy [#<Compra id: 1, user_id: 2, libro_id: 1, estado: "E", created_at: "2023-04-25 22:49:06.137049000 +0000", updated_at: "2023-04-25 22:49:06.137049000 +0000">, #<Compra id: 2, user_id: 2, libro_id: 1, estado: "E", created_at: "2023-04-25 22:50:18.133553000 +0000", updated_at: "2023-04-25 22:50:18.133553000 +0000">, #<Compra id: 3, user_id: 2, libro_id: 1, estado: "E", created_at: "2023-04-25 22:51:00.483519000 +0000", updated_at: "2023-04-25 22:51:00.483519000 +0000">]>
Did you mean?  to_xml):
  
app/controllers/compras_controller.rb:25:in `create'
Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:51:04 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 77.3ms | Allocations: 6868)
  Rendered componentes/_footer.html.erb (Duration: 3.0ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 107.5ms | Allocations: 9803)
  Rendered layout layouts/application.html.erb (Duration: 120.8ms | Allocations: 12438)
Completed 200 OK in 209ms (Views: 122.4ms | ActiveRecord: 24.3ms | Allocations: 19087)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:51:04 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 18.6ms | Allocations: 2363)
  Rendered componentes/_footer.html.erb (Duration: 3.1ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 51.1ms | Allocations: 4393)
  Rendered layout layouts/application.html.erb (Duration: 58.4ms | Allocations: 5512)
Completed 200 OK in 71ms (Views: 59.9ms | ActiveRecord: 2.7ms | Allocations: 6313)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:51:07 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 1926)
Completed 200 OK in 62ms (Views: 20.4ms | ActiveRecord: 8.1ms | Allocations: 8266)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:51:32 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (1.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:51:32.594927"], ["updated_at", "2023-04-25 22:51:32.594927"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Completed 500 Internal Server Error in 111ms (ActiveRecord: 25.8ms | Allocations: 19929)


  
ActionView::MissingTemplate (Missing template compras/user_compras, application/user_compras with {:locale=>[:en], :formats=>[:turbo_stream, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/home/rai_escalona/software/2023-1-grupo-46/app/views"
  * "/home/rai_escalona/.rvm/gems/ruby-3.1.0/gems/devise-4.9.2/app/views"
  * "/home/rai_escalona/.rvm/gems/ruby-3.1.0/gems/turbo-rails-1.4.0/app/views"
  * "/home/rai_escalona/.rvm/gems/ruby-3.1.0/gems/actiontext-7.0.4.3/app/views"
  * "/home/rai_escalona/.rvm/gems/ruby-3.1.0/gems/actionmailbox-7.0.4.3/app/views"

Did you mean?  compras/show
               compras/new
               compras/edit
               compras/index
               users/show
               rails/conductor/action_mailbox/inbound_emails/show):
  
app/controllers/compras_controller.rb:25:in `create'
Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:51:48 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 41.9ms | Allocations: 6882)
  Rendered componentes/_footer.html.erb (Duration: 3.5ms | Allocations: 527)
  Rendered libros/show.html.erb within layouts/application (Duration: 59.0ms | Allocations: 9803)
  Rendered layout layouts/application.html.erb (Duration: 77.9ms | Allocations: 12864)
Completed 200 OK in 160ms (Views: 76.2ms | ActiveRecord: 23.5ms | Allocations: 19731)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 18:51:48 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.7ms | Allocations: 2363)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 27.4ms | Allocations: 4393)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | Allocations: 5512)
Completed 200 OK in 50ms (Views: 43.3ms | ActiveRecord: 1.6ms | Allocations: 6314)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:51:51 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1032)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 2422)
Completed 200 OK in 69ms (Views: 15.2ms | ActiveRecord: 7.2ms | Allocations: 8923)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:56:48 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/rai_escalona/software/2023-1-grupo-46/app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
...     redirect_to :user_compras(current_user.id), notice: "La...
...                              ^
/home/rai_escalona/software/2023-1-grupo-46/app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
... :user_compras(current_user.id), notice: "La compra se ha cr...
...                              ^
):
  
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:57:07 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/rai_escalona/software/2023-1-grupo-46/app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
...     redirect_to :user_compras(current_user.id)
...                              ^
/home/rai_escalona/software/2023-1-grupo-46/app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
... :user_compras(current_user.id)
...                              ^
):
  
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected '(', expecting `end'
app/controllers/compras_controller.rb:25: syntax error, unexpected ')', expecting `end'
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:57:24 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 31.7ms | Allocations: 1459)
  Rendered layout layouts/application.html.erb (Duration: 494.2ms | Allocations: 29648)
Completed 200 OK in 914ms (Views: 504.2ms | ActiveRecord: 40.8ms | Allocations: 57963)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:57:27 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (2.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:57:27.371976"], ["updated_at", "2023-04-25 22:57:27.371976"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 32ms (ActiveRecord: 9.3ms | Allocations: 5643)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 18:57:27 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered compras/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1301)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 1383)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.4ms | Allocations: 2756)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <h1>Compras de <%= @user %></h1>
<table>
  <thead>
    <tr>
      <th>Libro</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <% @compras.each do |compra| %>
      <tr>
        <td><%= compra.libro.titulo %></td>
        <td>
          <%= if compra.estado == "E" %>
            <p>En Revisión</p>
          <% elsif compra.estado == "A" %>
            <p>Aprobado</p>
          <% elsif compra.estado == "R" %>
            <p>Rechazado</p>
        <% end %>
        </td>
        <td><%= link_to "Mostrar", user_compra_path(@user, compra) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
):
1:    <h1>Compras de <%= @user %></h1>
2:    <table>
3:      <thead>
4:        <tr>
5:          <th>Libro</th>
6:          <th>Estado</th>
7:          <th>Acciones</th>
8:        </tr>
9:      </thead>
10:      <tbody>
11:        <% @compras.each do |compra| %>
12:          <tr>
13:            <td><%= compra.libro.titulo %></td>
14:            <td>
15:              <%= if compra.estado == "E" %>
16:                <p>En Revisión</p>
17:              <% elsif compra.estado == "A" %>
18:                <p>Aprobado</p>
19:              <% elsif compra.estado == "R" %>
20:                <p>Rechazado</p>
21:            <% end %>
22:            </td>
23:            <td><%= link_to "Mostrar", user_compra_path(@user, compra) %></td>
24:          </tr>
25:        <% end %>
26:      </tbody>
27:    </table>
  
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:15: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/compras/index.html.erb:17: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:19: syntax error, unexpected `elsif', expecting ')'
app/views/compras/index.html.erb:21: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:25: syntax error, unexpected `end', expecting ')'
app/views/compras/index.html.erb:29: syntax error, unexpected `end', expecting ')'
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 18:58:31 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (2.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 26.8ms | Allocations: 1690)
  Rendered layout layouts/application.html.erb (Duration: 409.2ms | Allocations: 29675)
Completed 200 OK in 698ms (Views: 421.4ms | ActiveRecord: 28.5ms | Allocations: 59329)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 18:58:35 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (1.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 22:58:35.049951"], ["updated_at", "2023-04-25 22:58:35.049951"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 34ms (ActiveRecord: 11.0ms | Allocations: 3641)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 18:58:35 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 67.8ms | Allocations: 6922)
  Rendered layout layouts/application.html.erb (Duration: 83.1ms | Allocations: 8741)
Completed 200 OK in 103ms (Views: 88.1ms | ActiveRecord: 4.9ms | Allocations: 10603)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 18:59:14 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (2.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 219.7ms | Allocations: 7456)
  Rendered layout layouts/application.html.erb (Duration: 262.3ms | Allocations: 9265)
Completed 200 OK in 325ms (Views: 291.6ms | ActiveRecord: 5.1ms | Allocations: 11334)


Started GET "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 18:59:19 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 1144)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 2318)
Completed 200 OK in 44ms (Views: 25.1ms | ActiveRecord: 3.6ms | Allocations: 4554)


Started GET "/user/2/compras/1/edit" for 127.0.0.1 at 2023-04-25 18:59:25 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.9ms | Allocations: 2032)
  Rendered compras/edit.html.erb within layouts/application (Duration: 26.0ms | Allocations: 8831)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 8917)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 2.0ms | Allocations: 11643)


  
ActionView::Template::Error (undefined local variable or method `f' for #<ActionView::Base:0x0000000001a680>

    '.freeze;@output_buffer.append=( f.label :estado );@output_buffer.safe_append='<br />
                                     ^):
    12: <h1>Editar una compra de <%= @compra.user %></h1>
    13: <%= form_for([@user, @compra]) do |form| %>
    14:   <div class="field">
    15:     <%= f.label :estado %><br />
    16:     <%= f.select :estado, options_for_select([['En revisión', 'E'], ['Aceptado', 'A'], ['Rechazado', 'R']], selected: resource.estado), include_blank: false %>
    17:   </div>
    18:   <%= form.submit 'Enviar', class: 'btn btn-primary' %>
  
app/views/compras/edit.html.erb:15
app/views/compras/edit.html.erb:13
Started GET "/user/2/compras/1/edit" for 127.0.0.1 at 2023-04-25 19:00:02 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (2.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 21.5ms | Allocations: 2656)
  Rendered compras/edit.html.erb within layouts/application (Duration: 325.3ms | Allocations: 35742)
  Rendered layout layouts/application.html.erb (Duration: 326.5ms | Allocations: 35840)
Completed 500 Internal Server Error in 583ms (ActiveRecord: 21.0ms | Allocations: 57075)


  
ActionView::Template::Error (undefined local variable or method `resource' for #<ActionView::Base:0x00000000019f50>
Did you mean?  rescue):
    13: <%= form_for([@user, @compra]) do |form| %>
    14:   <div class="field">
    15:     <%= form.label :estado %><br />
    16:     <%= form.select :estado, options_for_select([['En revisión', 'E'], ['Aceptado', 'A'], ['Rechazado', 'R']], selected: resource.estado), include_blank: false %>
    17:   </div>
    18:   <%= form.submit 'Enviar', class: 'btn btn-primary' %>
    19: <% end %>
  
app/views/compras/edit.html.erb:16
app/views/compras/edit.html.erb:13
Started GET "/user/2/compras/1/edit" for 127.0.0.1 at 2023-04-25 19:00:44 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.3ms | Allocations: 2036)
  Rendered componentes/_footer.html.erb (Duration: 3.7ms | Allocations: 617)
  Rendered compras/edit.html.erb within layouts/application (Duration: 55.6ms | Allocations: 9736)
  Rendered layout layouts/application.html.erb (Duration: 72.7ms | Allocations: 11344)
Completed 200 OK in 91ms (Views: 76.2ms | ActiveRecord: 2.2ms | Allocations: 13925)


Started PATCH "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:00:48 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"A"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (2.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mCompra Update (6.0ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "A"], ["updated_at", "2023-04-25 23:00:48.768345"], ["id", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 107ms (ActiveRecord: 25.0ms | Allocations: 14981)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:00:48 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 46.8ms | Allocations: 6090)
  Rendered layout layouts/application.html.erb (Duration: 62.5ms | Allocations: 9442)
Completed 200 OK in 75ms (Views: 63.9ms | ActiveRecord: 3.2ms | Allocations: 11441)


Started GET "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:00:50 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1071)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 2242)
Completed 200 OK in 36ms (Views: 17.0ms | ActiveRecord: 2.3ms | Allocations: 4370)


Started GET "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:00:53 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 824)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 1995)
Completed 200 OK in 30ms (Views: 12.6ms | ActiveRecord: 4.5ms | Allocations: 3987)


Started GET "/user/2/compras/1/edit" for 127.0.0.1 at 2023-04-25 19:00:57 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 1898)
  Rendered componentes/_footer.html.erb (Duration: 3.4ms | Allocations: 618)
  Rendered compras/edit.html.erb within layouts/application (Duration: 19.2ms | Allocations: 4945)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 6088)
Completed 200 OK in 41ms (Views: 25.5ms | ActiveRecord: 1.6ms | Allocations: 8132)


Started PATCH "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:00:58 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"A"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 38ms (ActiveRecord: 3.5ms | Allocations: 4456)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:00:58 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 165.0ms | Allocations: 4699)
  Rendered layout layouts/application.html.erb (Duration: 211.2ms | Allocations: 5895)
Completed 200 OK in 222ms (Views: 210.7ms | ActiveRecord: 3.2ms | Allocations: 7157)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:01:00 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 825)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 1998)
Completed 200 OK in 25ms (Views: 11.4ms | ActiveRecord: 2.2ms | Allocations: 3965)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:01:02 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 824)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 1994)
Completed 200 OK in 34ms (Views: 17.3ms | ActiveRecord: 2.9ms | Allocations: 3961)


Started GET "/user/2/compras/6/edit" for 127.0.0.1 at 2023-04-25 19:01:21 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 17.6ms | Allocations: 2685)
  Rendered componentes/_footer.html.erb (Duration: 4.5ms | Allocations: 618)
  Rendered compras/edit.html.erb within layouts/application (Duration: 312.2ms | Allocations: 32145)
  Rendered layout layouts/application.html.erb (Duration: 328.1ms | Allocations: 35308)
Completed 200 OK in 539ms (Views: 342.1ms | ActiveRecord: 21.7ms | Allocations: 57869)


Started PATCH "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:01:24 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"E"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 27ms (ActiveRecord: 3.2ms | Allocations: 4145)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:01:24 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 58.5ms | Allocations: 4697)
  Rendered layout layouts/application.html.erb (Duration: 66.0ms | Allocations: 5880)
Completed 200 OK in 76ms (Views: 65.2ms | ActiveRecord: 3.0ms | Allocations: 7112)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:01:28 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 824)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 1997)
Completed 200 OK in 28ms (Views: 11.1ms | ActiveRecord: 2.4ms | Allocations: 3984)


Started GET "/user/2/compras/6/edit" for 127.0.0.1 at 2023-04-25 19:01:34 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.2ms | Allocations: 1395)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 420)
  Rendered compras/edit.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3528)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 4647)
Completed 200 OK in 36ms (Views: 18.6ms | ActiveRecord: 1.4ms | Allocations: 6616)


Started PATCH "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:01:41 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"E"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (1.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 30ms (ActiveRecord: 4.1ms | Allocations: 4121)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:01:41 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 47.7ms | Allocations: 4696)
  Rendered layout layouts/application.html.erb (Duration: 58.0ms | Allocations: 5879)
Completed 200 OK in 67ms (Views: 57.1ms | ActiveRecord: 2.9ms | Allocations: 7096)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:02:28 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 73.0ms | Allocations: 5195)
  Rendered layout layouts/application.html.erb (Duration: 88.0ms | Allocations: 7003)
Completed 200 OK in 107ms (Views: 93.7ms | ActiveRecord: 4.1ms | Allocations: 9037)


Started GET "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:02:29 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 22.9ms | Allocations: 1049)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 2219)
Completed 200 OK in 97ms (Views: 44.4ms | ActiveRecord: 4.3ms | Allocations: 4369)


Started GET "/user/2/compras/1/edit" for 127.0.0.1 at 2023-04-25 19:02:35 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 13.2ms | Allocations: 1894)
  Rendered componentes/_footer.html.erb (Duration: 3.2ms | Allocations: 526)
  Rendered compras/edit.html.erb within layouts/application (Duration: 27.9ms | Allocations: 4579)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 5698)
Completed 200 OK in 53ms (Views: 34.7ms | ActiveRecord: 2.2ms | Allocations: 7707)


Started PATCH "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:02:38 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"A"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 38ms (ActiveRecord: 4.6ms | Allocations: 4987)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:02:38 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 41.7ms | Allocations: 4720)
  Rendered layout layouts/application.html.erb (Duration: 47.4ms | Allocations: 5984)
Completed 200 OK in 55ms (Views: 47.7ms | ActiveRecord: 2.4ms | Allocations: 7283)


Started GET "/user/2/compras/1" for 127.0.0.1 at 2023-04-25 19:03:32 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 257.5ms | Allocations: 12824)
  Rendered layout layouts/application.html.erb (Duration: 276.3ms | Allocations: 14656)
Completed 200 OK in 314ms (Views: 272.2ms | ActiveRecord: 10.8ms | Allocations: 17519)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:03:35 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1418)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 3219)
Completed 200 OK in 42ms (Views: 29.4ms | ActiveRecord: 3.1ms | Allocations: 5994)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:03:36 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 16.3ms | Allocations: 898)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2068)
Completed 200 OK in 46ms (Views: 24.2ms | ActiveRecord: 3.6ms | Allocations: 4148)


Started DELETE "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:03:40 -0400
  
ActionController::RoutingError (No route matches [DELETE] "/user/2/compras"):
  
Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:03:40 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 953)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 2211)
Completed 200 OK in 32ms (Views: 18.6ms | ActiveRecord: 2.0ms | Allocations: 4404)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:03:45 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (2.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 74.0ms | Allocations: 5835)
  Rendered layout layouts/application.html.erb (Duration: 87.9ms | Allocations: 7016)
Completed 200 OK in 109ms (Views: 86.2ms | ActiveRecord: 5.9ms | Allocations: 8428)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:03:47 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 16.8ms | Allocations: 898)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 2069)
Completed 200 OK in 67ms (Views: 40.4ms | ActiveRecord: 3.6ms | Allocations: 4059)


Started DELETE "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:04:51 -0400
  
ActionController::RoutingError (No route matches [DELETE] "/user/2/compras"):
  
Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:04:51 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 14.8ms | Allocations: 1390)
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | Allocations: 3191)
Completed 200 OK in 53ms (Views: 32.9ms | ActiveRecord: 3.4ms | Allocations: 5885)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:04:53 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 121.4ms | Allocations: 4970)
  Rendered layout layouts/application.html.erb (Duration: 128.8ms | Allocations: 6149)
Completed 200 OK in 177ms (Views: 129.6ms | ActiveRecord: 4.0ms | Allocations: 7525)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:04:56 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 49.0ms | Allocations: 4698)
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 5877)
Completed 200 OK in 79ms (Views: 65.4ms | ActiveRecord: 3.6ms | Allocations: 7091)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:05:02 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 18.9ms | Allocations: 3198)
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 4.2ms | Allocations: 526)
  Rendered libros/index.html.erb within layouts/application (Duration: 39.4ms | Allocations: 7089)
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 8256)
Completed 200 OK in 53ms (Views: 46.6ms | ActiveRecord: 2.2ms | Allocations: 9071)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:05:04 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 10.0ms | Allocations: 2369)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 19.5ms | Allocations: 4881)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 6000)
Completed 200 OK in 37ms (Views: 26.8ms | ActiveRecord: 2.4ms | Allocations: 7432)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 19:05:07 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 28.9ms | Allocations: 3222)
  [1m[36mMensaje Load (2.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 2.9ms | Allocations: 527)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 148.3ms | Allocations: 12705)
  Rendered layout layouts/application.html.erb (Duration: 156.3ms | Allocations: 13872)
Completed 200 OK in 190ms (Views: 149.9ms | ActiveRecord: 13.6ms | Allocations: 17475)


Started GET "/libros/1/mensajes/2" for 127.0.0.1 at 2023-04-25 19:05:09 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"2"}
  [1m[36mLibro Load (1.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (2.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.1ms | Allocations: 2387)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 32.7ms | Allocations: 4947)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 6066)
Completed 200 OK in 56ms (Views: 37.6ms | ActiveRecord: 5.1ms | Allocations: 7766)


Started DELETE "/libros/1/mensajes/2" for 127.0.0.1 at 2023-04-25 19:05:14 -0400
Processing by MensajesController#destroy as TURBO_STREAM
  Parameters: {"libro_id"=>"1", "id"=>"2"}
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:47:in `destroy'
  [1m[36mMensaje Load (0.9ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mMensaje Destroy (1.3ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
Redirected to http://127.0.0.1:3000/libros/1/mensajes
Completed 303 See Other in 41ms (ActiveRecord: 9.4ms | Allocations: 3302)


Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:05:14 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 22.8ms | Allocations: 2366)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 3.3ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 47.9ms | Allocations: 5179)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | Allocations: 6298)
Completed 200 OK in 68ms (Views: 53.9ms | ActiveRecord: 4.2ms | Allocations: 7148)


Started GET "/libros/1/mensajes/2" for 127.0.0.1 at 2023-04-25 19:05:15 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"2"}
  [1m[36mLibro Load (1.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (3.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
Completed 404 Not Found in 78ms (ActiveRecord: 15.4ms | Allocations: 4241)


  
ActiveRecord::RecordNotFound (Couldn't find Mensaje with 'id'=2 [WHERE "mensajes"."libro_id" = $1]):
  
app/controllers/mensajes_controller.rb:10:in `show'
Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:05:22 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 77.4ms | Allocations: 2748)
  [1m[36mMensaje Load (2.8ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 2.7ms | Allocations: 421)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 205.8ms | Allocations: 10910)
  Rendered layout layouts/application.html.erb (Duration: 234.2ms | Allocations: 12077)
Completed 200 OK in 271ms (Views: 244.6ms | ActiveRecord: 8.6ms | Allocations: 13430)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:05:29 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 20.6ms | Allocations: 2731)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 35.0ms | Allocations: 5455)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 6621)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 2.2ms | Allocations: 8011)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:05:31 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 756)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 2106)
Completed 200 OK in 34ms (Views: 18.9ms | ActiveRecord: 4.0ms | Allocations: 4031)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:05:36 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 44.7ms | Allocations: 2365)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 71.8ms | Allocations: 4396)
  Rendered layout layouts/application.html.erb (Duration: 78.2ms | Allocations: 5515)
Completed 200 OK in 118ms (Views: 80.5ms | ActiveRecord: 3.5ms | Allocations: 6320)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 19:05:39 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 804)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2083)
Completed 200 OK in 21ms (Views: 8.5ms | ActiveRecord: 0.8ms | Allocations: 4129)


Started POST "/libros/1/compras" for 127.0.0.1 at 2023-04-25 19:05:41 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"1"}, "commit"=>"Confirmar compra", "libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (2.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-04-25 23:05:41.129119"], ["updated_at", "2023-04-25 23:05:41.129119"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 32ms (ActiveRecord: 8.5ms | Allocations: 4084)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:05:41 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 34.9ms | Allocations: 5360)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 6545)
Completed 200 OK in 48ms (Views: 39.3ms | ActiveRecord: 2.0ms | Allocations: 7810)


Started GET "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:05:42 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 910)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 2080)
Completed 200 OK in 26ms (Views: 11.4ms | ActiveRecord: 1.6ms | Allocations: 4064)


Started DELETE "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:05:45 -0400
  
ActionController::RoutingError (No route matches [DELETE] "/user/2/compras"):
  
Started GET "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:05:45 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1390)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 3191)
Completed 200 OK in 54ms (Views: 27.7ms | ActiveRecord: 2.8ms | Allocations: 5963)


Started GET "/user/2/compras/7/edit" for 127.0.0.1 at 2023-04-25 19:05:47 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.1ms | Allocations: 1892)
  Rendered componentes/_footer.html.erb (Duration: 2.4ms | Allocations: 526)
  Rendered compras/edit.html.erb within layouts/application (Duration: 23.2ms | Allocations: 4579)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 5698)
Completed 200 OK in 51ms (Views: 31.4ms | ActiveRecord: 2.3ms | Allocations: 7868)


Started PATCH "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:05:48 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"E"}, "commit"=>"Enviar", "user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 25ms (ActiveRecord: 3.3ms | Allocations: 4189)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:05:48 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 81.1ms | Allocations: 5625)
  Rendered layout layouts/application.html.erb (Duration: 85.7ms | Allocations: 6812)
Completed 200 OK in 101ms (Views: 86.5ms | ActiveRecord: 4.1ms | Allocations: 8154)


Started GET "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:06:22 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 17.8ms | Allocations: 1384)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 3182)
Completed 200 OK in 85ms (Views: 57.3ms | ActiveRecord: 3.7ms | Allocations: 5786)


Started DELETE "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:06:25 -0400
Processing by ComprasController#destroy as TURBO_STREAM
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:47:in `destroy'
  [1m[36mCompra Load (1.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mCompra Destroy (1.5ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
Completed 500 Internal Server Error in 70ms (ActiveRecord: 9.0ms | Allocations: 5233)


  
NoMethodError (undefined method `compras' for nil:NilClass

        @compras = @libro.compras
                         ^^^^^^^^):
  
app/controllers/compras_controller.rb:50:in `destroy'
Started GET "/user/2/compras/7" for 127.0.0.1 at 2023-04-25 19:07:16 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"7"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (2.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
Completed 404 Not Found in 104ms (ActiveRecord: 24.9ms | Allocations: 8475)


  
ActiveRecord::RecordNotFound (Couldn't find Compra with 'id'=7 [WHERE "compras"."user_id" = $1]):
  
app/controllers/compras_controller.rb:10:in `show'
Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:07:20 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 124.4ms | Allocations: 13875)
  Rendered layout layouts/application.html.erb (Duration: 151.2ms | Allocations: 17229)
Completed 200 OK in 177ms (Views: 150.8ms | ActiveRecord: 13.7ms | Allocations: 19132)


Started GET "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:07:23 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 1167)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 2338)
Completed 200 OK in 30ms (Views: 14.8ms | ActiveRecord: 2.5ms | Allocations: 4502)


Started DELETE "/user/2/compras/6" for 127.0.0.1 at 2023-04-25 19:07:25 -0400
Processing by ComprasController#destroy as TURBO_STREAM
  Parameters: {"user_id"=>"2", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:47:in `destroy'
  [1m[36mCompra Load (2.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mCompra Destroy (1.9ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 42ms (ActiveRecord: 8.5ms | Allocations: 3591)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:07:25 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 57.3ms | Allocations: 4038)
  Rendered layout layouts/application.html.erb (Duration: 65.4ms | Allocations: 5222)
Completed 200 OK in 88ms (Views: 65.4ms | ActiveRecord: 4.0ms | Allocations: 6492)


Started GET "/user/2/compras/5" for 127.0.0.1 at 2023-04-25 19:07:27 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 900)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 2070)
Completed 200 OK in 31ms (Views: 16.6ms | ActiveRecord: 1.7ms | Allocations: 4055)


Started DELETE "/user/2/compras/5" for 127.0.0.1 at 2023-04-25 19:07:29 -0400
Processing by ComprasController#destroy as TURBO_STREAM
  Parameters: {"user_id"=>"2", "id"=>"5"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:47:in `destroy'
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mCompra Destroy (0.9ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 62ms (ActiveRecord: 8.7ms | Allocations: 3375)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:07:29 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 3379)
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | Allocations: 4565)
Completed 200 OK in 85ms (Views: 64.6ms | ActiveRecord: 4.2ms | Allocations: 5800)


Started GET "/user/2/compras/4" for 127.0.0.1 at 2023-04-25 19:07:31 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 900)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 2070)
Completed 200 OK in 29ms (Views: 14.7ms | ActiveRecord: 2.2ms | Allocations: 4033)


Started DELETE "/user/2/compras/4" for 127.0.0.1 at 2023-04-25 19:07:33 -0400
Processing by ComprasController#destroy as TURBO_STREAM
  Parameters: {"user_id"=>"2", "id"=>"4"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:47:in `destroy'
  [1m[36mCompra Load (1.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mCompra Destroy (0.9ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:49:in `destroy'
Redirected to http://127.0.0.1:3000/user/2/compras
Completed 302 Found in 41ms (ActiveRecord: 8.3ms | Allocations: 3384)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:07:33 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 2719)
  Rendered layout layouts/application.html.erb (Duration: 43.1ms | Allocations: 3902)
Completed 200 OK in 57ms (Views: 44.0ms | ActiveRecord: 2.7ms | Allocations: 5149)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:07:57 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 106.7ms | Allocations: 12295)
  Rendered layout layouts/application.html.erb (Duration: 116.0ms | Allocations: 14716)
Completed 200 OK in 168ms (Views: 106.7ms | ActiveRecord: 29.0ms | Allocations: 22198)


Started GET "/user/2/compras/4" for 127.0.0.1 at 2023-04-25 19:08:03 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
Completed 404 Not Found in 46ms (ActiveRecord: 2.3ms | Allocations: 2365)


  
ActiveRecord::RecordNotFound (Couldn't find Compra with 'id'=4 [WHERE "compras"."user_id" = $1]):
  
app/controllers/compras_controller.rb:10:in `show'
Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:08:09 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 19.4ms | Allocations: 3213)
  [1m[36mLibro Load (2.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 527)
  Rendered libros/index.html.erb within layouts/application (Duration: 40.5ms | Allocations: 7095)
  Rendered layout layouts/application.html.erb (Duration: 45.8ms | Allocations: 7899)
Completed 200 OK in 59ms (Views: 53.4ms | ActiveRecord: 2.7ms | Allocations: 8913)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:08:30 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 16.5ms | Allocations: 3216)
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 2.4ms | Allocations: 526)
  Rendered libros/index.html.erb within layouts/application (Duration: 37.9ms | Allocations: 7059)
  Rendered layout layouts/application.html.erb (Duration: 43.4ms | Allocations: 7859)
Completed 200 OK in 49ms (Views: 46.1ms | ActiveRecord: 1.4ms | Allocations: 8873)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:08:38 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 22.9ms | Allocations: 3173)
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 526)
  Rendered libros/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 5975)
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 7566)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 2.2ms | Allocations: 8451)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:08:48 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 64.1ms | Allocations: 6885)
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 532)
  Rendered libros/show.html.erb within layouts/application (Duration: 81.3ms | Allocations: 9846)
  Rendered layout layouts/application.html.erb (Duration: 94.3ms | Allocations: 12909)
Completed 200 OK in 154ms (Views: 91.7ms | ActiveRecord: 19.9ms | Allocations: 19759)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 19:08:50 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.6ms | Allocations: 2725)
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 421)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 61.2ms | Allocations: 11298)
  Rendered layout layouts/application.html.erb (Duration: 65.7ms | Allocations: 12465)
Completed 200 OK in 90ms (Views: 63.5ms | ActiveRecord: 8.3ms | Allocations: 15499)


Started GET "/libros/1/mensajes/new" for 127.0.0.1 at 2023-04-25 19:08:51 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.5ms | Allocations: 2357)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 420)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 30.2ms | Allocations: 4692)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 5811)
Completed 200 OK in 48ms (Views: 38.8ms | ActiveRecord: 1.2ms | Allocations: 6908)


Started POST "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:08:54 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"dcfzdsfgvdz"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (2.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "dcfzdsfgvdz"], ["user_id", 2], ["libro_id", 1], ["created_at", "2023-04-25 23:08:54.880329"], ["updated_at", "2023-04-25 23:08:54.880329"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/libros/1
Completed 302 Found in 26ms (ActiveRecord: 6.0ms | Allocations: 4734)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:08:54 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.3ms | Allocations: 2354)
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 24.6ms | Allocations: 4431)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 5550)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 1.0ms | Allocations: 6372)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 19:08:56 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 744)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2111)
Completed 200 OK in 32ms (Views: 11.5ms | ActiveRecord: 2.6ms | Allocations: 5038)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 19:09:30 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 777)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3161)
Completed 200 OK in 150ms (Views: 22.3ms | ActiveRecord: 23.8ms | Allocations: 18458)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:09:41 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 15.8ms | Allocations: 3179)
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 526)
  Rendered libros/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 5981)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 6805)
Completed 200 OK in 41ms (Views: 37.5ms | ActiveRecord: 1.3ms | Allocations: 7690)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:10:31 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 11.8ms | Allocations: 3179)
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 2.7ms | Allocations: 526)
  Rendered libros/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 5980)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 7571)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 1.3ms | Allocations: 8457)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:11:29 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 22.8ms | Allocations: 3179)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 40.3ms | Allocations: 6111)
  Rendered layout layouts/application.html.erb (Duration: 51.9ms | Allocations: 7701)
Completed 200 OK in 63ms (Views: 55.2ms | ActiveRecord: 1.8ms | Allocations: 9165)


Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-04-25 19:11:31 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 735)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2102)
Completed 200 OK in 29ms (Views: 12.5ms | ActiveRecord: 2.2ms | Allocations: 4433)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:11:34 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 743)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 2093)
Completed 200 OK in 28ms (Views: 16.9ms | ActiveRecord: 1.2ms | Allocations: 4008)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:13:27 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2009)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2097)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.9ms | Allocations: 4178)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"compras"}, missing required keys: [:user_id]
Did you mean?  user_compras_url):
    13:   <% end %></p>
    14: <p>Foto de perfil: <br /> <%= image_tag current_user.picture.thumb.url, class: 'figure-img img-fluid rounded', style: 'width: 10%; height: 10%;' %></p>
    15: <!-- Add any other profile information you want to display here -->
    16: <%= link_to "Compras", :user_compras %>
    17: <%= link_to "Volver", :back %>
  
app/views/users/show.html.erb:16
Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:13:49 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 2593)
Completed 200 OK in 43ms (Views: 23.4ms | ActiveRecord: 1.0ms | Allocations: 4705)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:13:51 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 433.8ms | Allocations: 7580)
  Rendered layout layouts/application.html.erb (Duration: 451.1ms | Allocations: 9412)
Completed 200 OK in 508ms (Views: 454.4ms | ActiveRecord: 13.7ms | Allocations: 13095)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:13:59 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 45.3ms | Allocations: 2718)
  Rendered layout layouts/application.html.erb (Duration: 56.4ms | Allocations: 3899)
Completed 200 OK in 70ms (Views: 56.3ms | ActiveRecord: 3.8ms | Allocations: 5199)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:14:01 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (2.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 36.4ms | Allocations: 3209)
  Rendered componentes/_footer.html.erb (Duration: 5.3ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 75.6ms | Allocations: 6128)
  Rendered layout layouts/application.html.erb (Duration: 83.9ms | Allocations: 7294)
Completed 200 OK in 106ms (Views: 90.3ms | ActiveRecord: 3.1ms | Allocations: 8686)


Started DELETE "/logout" for 127.0.0.1 at 2023-04-25 19:14:03 -0400
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 32ms (ActiveRecord: 0.9ms | Allocations: 3297)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:14:04 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.3ms | Allocations: 1356)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 58.9ms | Allocations: 3511)
  Rendered layout layouts/application.html.erb (Duration: 63.9ms | Allocations: 4265)
Completed 200 OK in 71ms (Views: 69.2ms | ActiveRecord: 0.0ms | Allocations: 5123)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:14:07 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.2ms | Allocations: 1110)
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 26.8ms | Allocations: 4616)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 5287)
Completed 200 OK in 33ms (Views: 29.8ms | ActiveRecord: 1.0ms | Allocations: 5657)


Started GET "/inicio" for 127.0.0.1 at 2023-04-25 19:14:08 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.1ms | Allocations: 1118)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 420)
  Rendered home/inicio.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3384)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 4055)
Completed 200 OK in 32ms (Views: 29.4ms | ActiveRecord: 0.0ms | Allocations: 4400)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:15:39 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.8ms | Allocations: 1819)
  Rendered componentes/_footer.html.erb (Duration: 7.5ms | Allocations: 526)
  Rendered home/index.html.erb within layouts/application (Duration: 28.2ms | Allocations: 4141)
  Rendered layout layouts/application.html.erb (Duration: 40.4ms | Allocations: 5305)
Completed 200 OK in 56ms (Views: 52.6ms | ActiveRecord: 0.0ms | Allocations: 6310)


Started GET "/register" for 127.0.0.1 at 2023-04-25 19:15:49 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 23.6ms | Allocations: 1534)
  Rendered devise/shared/_error_messages.html.erb (Duration: 3.8ms | Allocations: 214)
  Rendered devise/shared/_links.html.erb (Duration: 17.4ms | Allocations: 620)
  Rendered componentes/_footer.html.erb (Duration: 3.4ms | Allocations: 534)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 164.6ms | Allocations: 10450)
  Rendered layout layouts/application.html.erb (Duration: 181.1ms | Allocations: 11606)
Completed 200 OK in 209ms (Views: 197.9ms | ActiveRecord: 0.0ms | Allocations: 13541)


Started POST "/" for 127.0.0.1 at 2023-04-25 19:16:18 -0400
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"pepito@uc.cl", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nombre"=>"pepito", "telefono"=>"123456", "descripcion"=>"Acerca de mi...2134567", "tipo_de_usuario"=>"A"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pepito@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "pepito@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-04-25 23:16:18.411429"], ["updated_at", "2023-04-25 23:16:18.411429"], ["nombre", "pepito"], ["telefono", "123456"], ["descripcion", "Acerca de mi...2134567"], ["tipo_de_usuario", "A"], ["picture", nil]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 411ms (ActiveRecord: 10.5ms | Allocations: 9048)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:16:18 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.0ms | Allocations: 2615)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 420)
  Rendered home/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 4381)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 5517)
Completed 200 OK in 30ms (Views: 29.2ms | ActiveRecord: 0.4ms | Allocations: 5820)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:16:25 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.7ms | Allocations: 2373)
  [1m[36mLibro Load (2.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 4480)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 5599)
Completed 200 OK in 42ms (Views: 37.6ms | ActiveRecord: 3.0ms | Allocations: 5877)


Started GET "/libros/new" for 127.0.0.1 at 2023-04-25 19:16:26 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.5ms | Allocations: 3200)
  Rendered componentes/_footer.html.erb (Duration: 2.2ms | Allocations: 616)
  Rendered libros/new.html.erb within layouts/application (Duration: 55.0ms | Allocations: 11391)
  Rendered layout layouts/application.html.erb (Duration: 59.6ms | Allocations: 12569)
Completed 200 OK in 64ms (Views: 62.0ms | ActiveRecord: 1.1ms | Allocations: 13268)


Started POST "/libros" for 127.0.0.1 at 2023-04-25 19:16:45 -0400
Processing by LibrosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "libro"=>{"titulo"=>"ajedrez", "fecha"=>"1850", "categoria"=>"estrategia", "autor"=>"Raimundo Escalona", "precio"=>"45000", "stock"=>"10", "descripcion"=>"kjndfskjhas dkfjhdsaf sadjkf hsajfdasfdnjk dsfjn akdsfsadf asdfsad fsad fasdf adsf"}, "commit"=>"Create Libro"}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mLibro Create (7.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "ajedrez"], ["fecha", 1850], ["categoria", "estrategia"], ["autor", "Raimundo Escalona"], ["precio", 45000], ["stock", 10], ["descripcion", "kjndfskjhas dkfjhdsaf sadjkf hsajfdasfdnjk dsfjn akdsfsadf asdfsad fsad fasdf adsf"], ["created_at", "2023-04-25 23:16:45.499749"], ["updated_at", "2023-04-25 23:16:45.499749"]]
  ↳ app/controllers/libros_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/libros_controller.rb:9:in `create'
Redirected to http://127.0.0.1:3000/libros/3
Completed 302 Found in 40ms (ActiveRecord: 12.7ms | Allocations: 2994)


Started GET "/libros/3" for 127.0.0.1 at 2023-04-25 19:16:45 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mLibro Load (2.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.5ms | Allocations: 2470)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 34.7ms | Allocations: 5034)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 6154)
Completed 200 OK in 55ms (Views: 40.6ms | ActiveRecord: 3.3ms | Allocations: 7076)


Started GET "/libros/3/compras/new" for 127.0.0.1 at 2023-04-25 19:16:53 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"3"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:14:in `new'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered compras/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 735)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2102)
Completed 200 OK in 48ms (Views: 12.0ms | ActiveRecord: 11.9ms | Allocations: 7657)


Started POST "/libros/3/compras" for 127.0.0.1 at 2023-04-25 19:17:00 -0400
Processing by ComprasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"libro_id"=>"3"}, "commit"=>"Confirmar compra", "libro_id"=>"3"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:20:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mCompra Create (4.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["libro_id", 3], ["estado", "E"], ["created_at", "2023-04-25 23:17:00.416085"], ["updated_at", "2023-04-25 23:17:00.416085"]]
  ↳ app/controllers/compras_controller.rb:24:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/user/3/compras
Completed 302 Found in 59ms (ActiveRecord: 11.2ms | Allocations: 4076)


Started GET "/user/3/compras" for 127.0.0.1 at 2023-04-25 19:17:00 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 1676)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 2863)
Completed 200 OK in 36ms (Views: 19.0ms | ActiveRecord: 4.4ms | Allocations: 4215)


Started GET "/user/3/compras/8" for 127.0.0.1 at 2023-04-25 19:17:02 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"3", "id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:9:in `show'
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/compras/show.html.erb:4
  Rendered compras/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1137)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 2307)
Completed 200 OK in 33ms (Views: 16.5ms | ActiveRecord: 2.0ms | Allocations: 4331)


Started GET "/user/3/compras/8/edit" for 127.0.0.1 at 2023-04-25 19:17:03 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"3", "id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:32:in `edit'
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:33:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 1402)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 421)
  Rendered compras/edit.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3849)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 4968)
Completed 200 OK in 28ms (Views: 17.3ms | ActiveRecord: 1.4ms | Allocations: 6978)


Started PATCH "/user/3/compras/8" for 127.0.0.1 at 2023-04-25 19:17:06 -0400
Processing by ComprasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "compra"=>{"estado"=>"A"}, "commit"=>"Enviar", "user_id"=>"3", "id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:37:in `update'
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mCompra Update (1.2ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "A"], ["updated_at", "2023-04-25 23:17:06.348820"], ["id", 8]]
  ↳ app/controllers/compras_controller.rb:39:in `update'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/compras_controller.rb:39:in `update'
Redirected to http://127.0.0.1:3000/user/3/compras
Completed 302 Found in 43ms (ActiveRecord: 8.1ms | Allocations: 6258)


Started GET "/user/3/compras" for 127.0.0.1 at 2023-04-25 19:17:06 -0400
Processing by ComprasController#index as TURBO_STREAM
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 1895)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 3289)
Completed 200 OK in 36ms (Views: 27.6ms | ActiveRecord: 2.7ms | Allocations: 4968)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:17:19 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 46.5ms | Allocations: 2713)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 425)
  Rendered home/index.html.erb within layouts/application (Duration: 57.4ms | Allocations: 4812)
  Rendered layout layouts/application.html.erb (Duration: 66.8ms | Allocations: 5979)
Completed 200 OK in 80ms (Views: 75.9ms | ActiveRecord: 0.9ms | Allocations: 6777)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:17:21 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 2121)
Completed 200 OK in 27ms (Views: 15.7ms | ActiveRecord: 1.3ms | Allocations: 3735)


Started GET "/user/3/compras" for 127.0.0.1 at 2023-04-25 19:17:23 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 3]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1424)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 2605)
Completed 200 OK in 29ms (Views: 18.3ms | ActiveRecord: 2.9ms | Allocations: 4005)


Started DELETE "/logout" for 127.0.0.1 at 2023-04-25 19:17:31 -0400
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 19ms (ActiveRecord: 0.6ms | Allocations: 3253)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:17:31 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.9ms | Allocations: 1340)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3450)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 4204)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 5017)


Started GET "/login" for 127.0.0.1 at 2023-04-25 19:17:33 -0400
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1018)
  Rendered devise/shared/_links.html.erb (Duration: 3.1ms | Allocations: 723)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 470)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 26.5ms | Allocations: 5791)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 6521)
Completed 200 OK in 39ms (Views: 33.9ms | ActiveRecord: 0.0ms | Allocations: 8154)


Started POST "/login" for 127.0.0.1 at 2023-04-25 19:17:39 -0400
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1234567@uc.cl", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "1234567@uc.cl"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 465ms (ActiveRecord: 3.1ms | Allocations: 4487)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:17:39 -0400
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 16.5ms | Allocations: 2596)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 420)
  Rendered home/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 4415)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 5549)
Completed 200 OK in 39ms (Views: 36.4ms | ActiveRecord: 1.2ms | Allocations: 5852)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:17:43 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 399)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 1556)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.8ms | Allocations: 2760)


Started GET "/user/2/compras" for 127.0.0.1 at 2023-04-25 19:17:45 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/compras_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  [1m[36mCompra Load (1.0ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/views/compras/index.html.erb:11
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  [1m[36mCACHE Libro Load (0.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/compras/index.html.erb:13
  Rendered compras/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 2742)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 3920)
Completed 200 OK in 40ms (Views: 28.8ms | ActiveRecord: 2.7ms | Allocations: 5141)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:18:05 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 30.7ms | Allocations: 2369)
  [1m[36mLibro Load (2.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 420)
  Rendered libros/index.html.erb within layouts/application (Duration: 46.3ms | Allocations: 4597)
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | Allocations: 5716)
Completed 200 OK in 56ms (Views: 51.9ms | ActiveRecord: 3.2ms | Allocations: 5990)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:18:07 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.7ms | Allocations: 2351)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 24.6ms | Allocations: 4388)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 5507)
Completed 200 OK in 35ms (Views: 29.8ms | ActiveRecord: 1.0ms | Allocations: 6292)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 19:18:09 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 10.1ms | Allocations: 2694)
  [1m[36mMensaje Load (1.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 421)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 64.7ms | Allocations: 11030)
  Rendered layout layouts/application.html.erb (Duration: 69.6ms | Allocations: 12197)
Completed 200 OK in 98ms (Views: 71.2ms | ActiveRecord: 8.5ms | Allocations: 15167)


Started GET "/libros/1/mensajes/new" for 127.0.0.1 at 2023-04-25 19:18:10 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.1ms | Allocations: 2366)
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 420)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 4695)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 5814)
Completed 200 OK in 54ms (Views: 40.6ms | ActiveRecord: 2.2ms | Allocations: 6907)


Started POST "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:18:12 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"adsf sadfsda"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (2.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "adsf sadfsda"], ["user_id", 2], ["libro_id", 1], ["created_at", "2023-04-25 23:18:12.134417"], ["updated_at", "2023-04-25 23:18:12.134417"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/libros/1
Completed 302 Found in 70ms (ActiveRecord: 18.9ms | Allocations: 9610)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:18:12 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 11.5ms | Allocations: 2693)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 23.2ms | Allocations: 5376)
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 6541)
Completed 200 OK in 36ms (Views: 31.4ms | ActiveRecord: 0.9ms | Allocations: 7766)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:19:34 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 71.2ms | Allocations: 6422)
  Rendered componentes/_footer.html.erb (Duration: 5.7ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 96.2ms | Allocations: 8673)
  Rendered layout layouts/application.html.erb (Duration: 116.8ms | Allocations: 11307)
Completed 200 OK in 223ms (Views: 126.0ms | ActiveRecord: 21.1ms | Allocations: 17757)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 19:19:37 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 45.0ms | Allocations: 2709)
  [1m[36mMensaje Load (1.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 424)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 114.0ms | Allocations: 11673)
  Rendered layout layouts/application.html.erb (Duration: 118.0ms | Allocations: 12840)
Completed 200 OK in 140ms (Views: 109.5ms | ActiveRecord: 13.2ms | Allocations: 15861)


Started GET "/libros/1/mensajes/new" for 127.0.0.1 at 2023-04-25 19:19:38 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:15:in `new'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.0ms | Allocations: 2351)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 420)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 4658)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 5777)
Completed 200 OK in 46ms (Views: 34.2ms | ActiveRecord: 1.1ms | Allocations: 6870)


Started POST "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:19:41 -0400
Processing by MensajesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "mensaje"=>{"texto"=>"prueba"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:21:in `create'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mMensaje Create (1.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "prueba"], ["user_id", 2], ["libro_id", 1], ["created_at", "2023-04-25 23:19:41.999466"], ["updated_at", "2023-04-25 23:19:41.999466"]]
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:24:in `create'
Redirected to http://127.0.0.1:3000/libros/1/mensajes
Completed 302 Found in 105ms (ActiveRecord: 30.2ms | Allocations: 17307)


Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:19:42 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.3ms | Allocations: 2725)
  [1m[36mMensaje Load (1.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 421)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 48.9ms | Allocations: 9578)
  Rendered layout layouts/application.html.erb (Duration: 61.7ms | Allocations: 12212)
Completed 200 OK in 78ms (Views: 63.6ms | ActiveRecord: 4.3ms | Allocations: 13522)


Started GET "/libros/1/mensajes/5" for 127.0.0.1 at 2023-04-25 19:19:51 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"5"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:9:in `show'
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 6.8ms | Allocations: 2369)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/show.html.erb:12
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 22.6ms | Allocations: 4923)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 6042)
Completed 200 OK in 45ms (Views: 26.6ms | ActiveRecord: 3.4ms | Allocations: 7753)


Started DELETE "/libros/1/mensajes/5" for 127.0.0.1 at 2023-04-25 19:19:53 -0400
Processing by MensajesController#destroy as TURBO_STREAM
  Parameters: {"libro_id"=>"1", "id"=>"5"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:47:in `destroy'
  [1m[36mMensaje Load (1.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mMensaje Destroy (6.0ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/mensajes_controller.rb:49:in `destroy'
Redirected to http://127.0.0.1:3000/libros/1/mensajes
Completed 303 See Other in 75ms (ActiveRecord: 26.0ms | Allocations: 12654)


Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:19:54 -0400
Processing by MensajesController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 37.4ms | Allocations: 6390)
  [1m[36mMensaje Load (0.9ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 425)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 119.7ms | Allocations: 12769)
  Rendered layout layouts/application.html.erb (Duration: 136.8ms | Allocations: 15406)
Completed 200 OK in 148ms (Views: 133.3ms | ActiveRecord: 8.3ms | Allocations: 16560)


Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:20:48 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 21.5ms | Allocations: 3165)
  [1m[36mMensaje Load (1.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered mensajes/index.html.erb within layouts/application (Duration: 66.4ms | Allocations: 9101)
  Rendered layout layouts/application.html.erb (Duration: 67.4ms | Allocations: 9186)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 5.7ms | Allocations: 10568)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"libros", :libro_id=>"1"}, missing required keys: [:id]
Did you mean?  libro_url):
    23:   </div>
    24: <% end %>
    25: 
    26: <%= link_to "Volver", :libro%>
    27: 
    28: </div>
    29: <%= render 'componentes/footer' %>
  
app/views/mensajes/index.html.erb:26
Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:21:57 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 57.5ms | Allocations: 6865)
  [1m[36mMensaje Load (1.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered mensajes/index.html.erb within layouts/application (Duration: 134.6ms | Allocations: 20645)
  Rendered layout layouts/application.html.erb (Duration: 136.1ms | Allocations: 20730)
Completed 500 Internal Server Error in 194ms (ActiveRecord: 24.9ms | Allocations: 29102)


  
ActionView::Template::Error (undefined local variable or method `libro' for #<ActionView::Base:0x000000000246a8>

'.freeze;@output_buffer.append=( link_to "Volver", "/libros/#{libro.id}");@output_buffer.safe_append='
                                                              ^^^^^
Did you mean?  @libro):
    23:   </div>
    24: <% end %>
    25: 
    26: <%= link_to "Volver", "/libros/#{libro.id}"%>
    27: 
    28: </div>
    29: <%= render 'componentes/footer' %>
  
app/views/mensajes/index.html.erb:26
Started GET "/libros/1/mensajes" for 127.0.0.1 at 2023-04-25 19:22:14 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 15.1ms | Allocations: 3171)
  [1m[36mMensaje Load (1.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 2.0ms | Allocations: 526)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 44.3ms | Allocations: 8018)
  Rendered layout layouts/application.html.erb (Duration: 53.5ms | Allocations: 11079)
Completed 200 OK in 62ms (Views: 53.8ms | ActiveRecord: 4.0ms | Allocations: 12509)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:22:16 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.3ms | Allocations: 2707)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 27.4ms | Allocations: 5401)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 6567)
Completed 200 OK in 43ms (Views: 35.7ms | ActiveRecord: 1.7ms | Allocations: 7958)


Started GET "/libros/1/mensajes/" for 127.0.0.1 at 2023-04-25 19:22:18 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/mensajes_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.8ms | Allocations: 2357)
  [1m[36mMensaje Load (1.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/mensajes/index.html.erb:20
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/mensajes/index.html.erb:22
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 420)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 51.3ms | Allocations: 6450)
  Rendered layout layouts/application.html.erb (Duration: 57.5ms | Allocations: 7569)
Completed 200 OK in 72ms (Views: 53.5ms | ActiveRecord: 7.3ms | Allocations: 8409)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:22:20 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (5.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 37.1ms | Allocations: 2360)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 420)
  Rendered libros/show.html.erb within layouts/application (Duration: 63.9ms | Allocations: 4390)
  Rendered layout layouts/application.html.erb (Duration: 82.2ms | Allocations: 5509)
Completed 200 OK in 100ms (Views: 85.3ms | ActiveRecord: 6.6ms | Allocations: 6283)


Started GET "/libros/1/resenas/" for 127.0.0.1 at 2023-04-25 19:22:20 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 14.6ms | Allocations: 2706)
  [1m[36mResena Load (10.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 421)
  Rendered resenas/index.html.erb within layouts/application (Duration: 78.5ms | Allocations: 9610)
  Rendered layout layouts/application.html.erb (Duration: 89.7ms | Allocations: 10777)
Completed 200 OK in 119ms (Views: 73.9ms | ActiveRecord: 19.9ms | Allocations: 13853)


Started GET "/libros/1/resenas/" for 127.0.0.1 at 2023-04-25 19:22:41 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 32.7ms | Allocations: 3209)
  [1m[36mResena Load (1.9ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 5.2ms | Allocations: 526)
  Rendered resenas/index.html.erb within layouts/application (Duration: 126.3ms | Allocations: 10372)
  Rendered layout layouts/application.html.erb (Duration: 145.6ms | Allocations: 11964)
Completed 200 OK in 191ms (Views: 145.8ms | ActiveRecord: 14.3ms | Allocations: 15182)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:22:43 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 17.5ms | Allocations: 2701)
  Rendered componentes/_footer.html.erb (Duration: 2.8ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 41.2ms | Allocations: 5393)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | Allocations: 6559)
Completed 200 OK in 61ms (Views: 51.9ms | ActiveRecord: 2.6ms | Allocations: 7952)


Started GET "/libros/1/resenas/" for 127.0.0.1 at 2023-04-25 19:22:45 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 23.6ms | Allocations: 2354)
  [1m[36mResena Load (1.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 4.9ms | Allocations: 420)
  Rendered resenas/index.html.erb within layouts/application (Duration: 54.0ms | Allocations: 4507)
  Rendered layout layouts/application.html.erb (Duration: 68.2ms | Allocations: 5626)
Completed 200 OK in 85ms (Views: 68.3ms | ActiveRecord: 4.3ms | Allocations: 6465)


Started GET "/libros/1/resenas/new" for 127.0.0.1 at 2023-04-25 19:22:46 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.6ms | Allocations: 2339)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 420)
  Rendered resenas/new.html.erb within layouts/application (Duration: 26.7ms | Allocations: 4917)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 6036)
Completed 200 OK in 43ms (Views: 30.6ms | ActiveRecord: 2.0ms | Allocations: 7100)


Started POST "/libros/1/resenas" for 127.0.0.1 at 2023-04-25 19:22:59 -0400
Processing by ResenasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "resena"=>{"titulo"=>"prueba", "cuerpo"=>"TODO FUNCIONA :D"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (2.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:19:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/resenas_controller.rb:22:in `create'
  [1m[36mResena Create (5.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "prueba"], ["cuerpo", "TODO FUNCIONA :D"], ["libro_id", 1], ["user_id", 2], ["created_at", "2023-04-25 23:22:59.443422"], ["updated_at", "2023-04-25 23:22:59.443422"]]
  ↳ app/controllers/resenas_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/resenas_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/libros/1
Completed 302 Found in 37ms (ActiveRecord: 10.9ms | Allocations: 4712)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:22:59 -0400
Processing by LibrosController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.1ms | Allocations: 3156)
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 526)
  Rendered libros/show.html.erb within layouts/application (Duration: 34.8ms | Allocations: 6086)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 7676)
Completed 200 OK in 54ms (Views: 45.5ms | ActiveRecord: 1.5ms | Allocations: 9116)


Started GET "/libros/1/resenas/" for 127.0.0.1 at 2023-04-25 19:23:33 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (1.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 30.7ms | Allocations: 6866)
  [1m[36mResena Load (0.9ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 526)
  Rendered resenas/index.html.erb within layouts/application (Duration: 88.5ms | Allocations: 13963)
  Rendered layout layouts/application.html.erb (Duration: 97.0ms | Allocations: 17024)
Completed 200 OK in 146ms (Views: 86.7ms | ActiveRecord: 22.7ms | Allocations: 25426)


Started GET "/libros/1/resenas/new" for 127.0.0.1 at 2023-04-25 19:23:35 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:14:in `new'
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 12.6ms | Allocations: 2379)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 420)
  Rendered resenas/new.html.erb within layouts/application (Duration: 26.8ms | Allocations: 4970)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 6089)
Completed 200 OK in 38ms (Views: 30.8ms | ActiveRecord: 1.1ms | Allocations: 7168)


Started POST "/libros/1/resenas" for 127.0.0.1 at 2023-04-25 19:23:45 -0400
Processing by ResenasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "resena"=>{"titulo"=>"otra vez", "cuerpo"=>"ahora si"}, "commit"=>"Enviar", "libro_id"=>"1"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:19:in `create'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/resenas_controller.rb:22:in `create'
  [1m[36mResena Create (2.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "otra vez"], ["cuerpo", "ahora si"], ["libro_id", 1], ["user_id", 2], ["created_at", "2023-04-25 23:23:45.434414"], ["updated_at", "2023-04-25 23:23:45.434414"]]
  ↳ app/controllers/resenas_controller.rb:22:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/resenas_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/libros/1/resenas
Completed 302 Found in 60ms (ActiveRecord: 10.7ms | Allocations: 4446)


Started GET "/libros/1/resenas" for 127.0.0.1 at 2023-04-25 19:23:45 -0400
Processing by ResenasController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 15.2ms | Allocations: 2380)
  [1m[36mResena Load (0.8ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 420)
  Rendered resenas/index.html.erb within layouts/application (Duration: 27.2ms | Allocations: 4635)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 5754)
Completed 200 OK in 36ms (Views: 30.7ms | ActiveRecord: 1.6ms | Allocations: 6604)


Started GET "/libros/1/resenas/5" for 127.0.0.1 at 2023-04-25 19:23:53 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"5"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:9:in `show'
  [1m[36mResena Load (1.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 31.4ms | Allocations: 6408)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/resenas/show.html.erb:14
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 421)
  Rendered resenas/show.html.erb within layouts/application (Duration: 51.8ms | Allocations: 10540)
  Rendered layout layouts/application.html.erb (Duration: 60.5ms | Allocations: 13175)
Completed 200 OK in 134ms (Views: 57.6ms | ActiveRecord: 27.0ms | Allocations: 24759)


Started DELETE "/libros/1/resenas/5" for 127.0.0.1 at 2023-04-25 19:23:56 -0400
Processing by ResenasController#destroy as TURBO_STREAM
  Parameters: {"libro_id"=>"1", "id"=>"5"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:45:in `destroy'
  [1m[36mResena Load (1.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:46:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/resenas_controller.rb:47:in `destroy'
  [1m[36mResena Destroy (4.3ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/resenas_controller.rb:47:in `destroy'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/resenas_controller.rb:47:in `destroy'
Redirected to http://127.0.0.1:3000/libros/1/resenas
Completed 303 See Other in 34ms (ActiveRecord: 8.4ms | Allocations: 3334)


Started GET "/libros/1/resenas" for 127.0.0.1 at 2023-04-25 19:23:56 -0400
Processing by ResenasController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 15.1ms | Allocations: 2366)
  [1m[36mResena Load (1.0ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 2.6ms | Allocations: 420)
  Rendered resenas/index.html.erb within layouts/application (Duration: 46.9ms | Allocations: 5404)
  Rendered layout layouts/application.html.erb (Duration: 53.5ms | Allocations: 6523)
Completed 200 OK in 68ms (Views: 54.4ms | ActiveRecord: 2.4ms | Allocations: 7388)


Started GET "/libros/1/resenas/4" for 127.0.0.1 at 2023-04-25 19:23:58 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"1", "id"=>"4"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:9:in `show'
  [1m[36mResena Load (1.0ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:10:in `show'
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 31.0ms | Allocations: 6873)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/resenas/show.html.erb:14
  Rendered componentes/_footer.html.erb (Duration: 4.0ms | Allocations: 526)
  Rendered resenas/show.html.erb within layouts/application (Duration: 53.3ms | Allocations: 11217)
  Rendered layout layouts/application.html.erb (Duration: 64.4ms | Allocations: 14274)
Completed 200 OK in 136ms (Views: 59.3ms | ActiveRecord: 22.0ms | Allocations: 27031)


Started GET "/libros/1/resenas/4/edit" for 127.0.0.1 at 2023-04-25 19:23:59 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"1", "id"=>"4"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:30:in `edit'
  [1m[36mResena Load (0.8ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 1], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:31:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 18.8ms | Allocations: 2357)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 476)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 33.2ms | Allocations: 5257)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 6400)
Completed 200 OK in 51ms (Views: 36.7ms | ActiveRecord: 2.0ms | Allocations: 8075)


Started PATCH "/libros/1/resenas/4" for 127.0.0.1 at 2023-04-25 19:24:01 -0400
Processing by ResenasController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "resena"=>{"titulo"=>"prueba", "cuerpo"=>"TODO FUNCIONA :D"}, "commit"=>"Enviar", "libro_id"=>"1", "id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:35:in `update'
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:36:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/resenas_controller.rb:37:in `update'
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/resenas_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/libros/1/resenas
Completed 302 Found in 36ms (ActiveRecord: 3.2ms | Allocations: 5911)


Started GET "/libros/1/resenas" for 127.0.0.1 at 2023-04-25 19:24:01 -0400
Processing by ResenasController#index as TURBO_STREAM
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/resenas_controller.rb:4:in `index'
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 13.1ms | Allocations: 2395)
  [1m[36mResena Load (0.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 1]]
  ↳ app/views/resenas/index.html.erb:20
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 420)
  Rendered resenas/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 5838)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 6958)
Completed 200 OK in 43ms (Views: 36.4ms | ActiveRecord: 1.9ms | Allocations: 7917)


Started GET "/libros/1" for 127.0.0.1 at 2023-04-25 19:24:24 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLibro Load (1.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/libros_controller.rb:21:in `show'
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 19.6ms | Allocations: 2714)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 421)
  Rendered libros/show.html.erb within layouts/application (Duration: 64.4ms | Allocations: 5408)
  Rendered layout layouts/application.html.erb (Duration: 68.3ms | Allocations: 6574)
Completed 200 OK in 87ms (Views: 71.0ms | ActiveRecord: 3.0ms | Allocations: 7965)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:24:29 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 55.1ms | Allocations: 6479)
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 424)
  Rendered libros/index.html.erb within layouts/application (Duration: 91.0ms | Allocations: 12807)
  Rendered layout layouts/application.html.erb (Duration: 97.6ms | Allocations: 15443)
Completed 200 OK in 110ms (Views: 86.2ms | ActiveRecord: 14.6ms | Allocations: 18068)


Started GET "/" for 127.0.0.1 at 2023-04-25 19:24:40 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 11.2ms | Allocations: 2726)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 421)
  Rendered home/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 4806)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 5973)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.8ms | Allocations: 6771)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:24:41 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 27.3ms | Allocations: 2364)
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 10.5ms | Allocations: 421)
  Rendered libros/index.html.erb within layouts/application (Duration: 54.6ms | Allocations: 4612)
  Rendered layout layouts/application.html.erb (Duration: 62.3ms | Allocations: 5731)
Completed 200 OK in 67ms (Views: 61.7ms | ActiveRecord: 2.8ms | Allocations: 6027)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:24:56 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 831)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 2149)
Completed 200 OK in 23ms (Views: 14.2ms | ActiveRecord: 0.5ms | Allocations: 4081)


Started GET "/libros" for 127.0.0.1 at 2023-04-25 19:25:02 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/componentes/_header.html.erb:14
  Rendered componentes/_header.html.erb (Duration: 18.7ms | Allocations: 2719)
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  ↳ app/views/libros/index.html.erb:17
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 421)
  Rendered libros/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 6505)
  Rendered layout layouts/application.html.erb (Duration: 50.5ms | Allocations: 7672)
Completed 200 OK in 64ms (Views: 59.6ms | ActiveRecord: 2.1ms | Allocations: 8401)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:26:19 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 839)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 2157)
Completed 200 OK in 57ms (Views: 33.2ms | ActiveRecord: 1.8ms | Allocations: 4110)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:26:21 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 377)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 1534)
Completed 200 OK in 20ms (Views: 9.3ms | ActiveRecord: 1.7ms | Allocations: 2901)


Started GET "/profile" for 127.0.0.1 at 2023-04-25 19:26:56 -0400
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 2138)
Completed 200 OK in 32ms (Views: 19.7ms | ActiveRecord: 1.5ms | Allocations: 4067)


  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (43.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_development"[0m
  [1m[35m (29.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (177.1ms)[0m  [1m[35mCREATE DATABASE "real_development" ENCODING = 'unicode'[0m
  [1m[35m (47.9ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLibros (20230416162514)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230416162514"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230417001621)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417001621"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToUsers (20230417002537)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "users" ADD "nombre" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417002537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTelephoneToUsers (20230417212118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "telefono" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230417212118"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDescripcionToUsers (20230418020514)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "descripcion" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418020514"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddtipoDeUsuariosToUsers (20230418024303)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "tipo_de_usuario" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230418024303"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToUsers (20230420193941)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230420193941"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateResenas (20230422212919)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
, CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230422212919"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMensajes (20230423201745)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423201745"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCompras (20230423203622)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230423203622"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-26 01:56:06.998525"], ["updated_at", "2023-04-26 01:56:06.998525"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(5714825090804558190)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
